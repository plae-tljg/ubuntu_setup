/*! For license information please see clym.js.LICENSE.txt */
(()=>{var t,e,n={40:t=>{"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(){for(var t,n,r=[],i=window,o=i;o;){try{if(o.frames.__tcfapiLocator){t=o;break}}catch(t){}if(o===i.top)break;o=o.parent}t||(function t(){var e=i.document,n=!!i.frames.__tcfapiLocator;if(!n)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!n}(),i.__tcfapi=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(!e.length)return r;"setGdprApplies"===e[0]?e.length>3&&2===parseInt(e[1],10)&&"boolean"==typeof e[3]&&(n=e[3],"function"==typeof e[2]&&e[2]("set",!0)):"ping"===e[0]?"function"==typeof e[2]&&e[2]({gdprApplies:n,cmpLoaded:!1,cmpStatus:"stub"}):r.push(e)},i.addEventListener("message",(function(t){var n="string"==typeof t.data,r={};if(n)try{r=JSON.parse(t.data)}catch(t){}else r=t.data;var i="object"===e(r)&&null!==r?r.__tcfapiCall:null;i&&window.__tcfapi(i.command,i.version,(function(e,r){var o={__tcfapiReturn:{returnValue:e,success:r,callId:i.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(n?JSON.stringify(o):o,"*")}),i.parameter)}),!1))}},299:(t,e,n)=>{"use strict";n.d(e,{Bv:()=>p,DS:()=>d,Km:()=>o,Kn:()=>s,RA:()=>y,X3:()=>i,gi:()=>f,uK:()=>a,w6:()=>l,xv:()=>h,yl:()=>u,yq:()=>c});let r="v2.16.0";"v"===r.charAt(0)&&(r=r.substr(1));const i=!1,o="production",a="https://widget-next.clym-sdk.net",s="https://cf.clym-widget.net",c="",u="clym",l="https://partners.clym.io",f="cc.clym.io",d=!1,h="latest",p=r,y=["global","policy","entity"]},538:(t,e,n)=>{"use strict";n.d(e,{yS:()=>h,cR:()=>p,Ay:()=>l,tN:()=>d});var r=n(655),i=n(299);const o=function(){if(i.X3)return{};var t=Math.floor(1000001*Math.random()),e={};function n(t){return Array.isArray?Array.isArray(t):-1!=t.constructor.toString().indexOf("Array")}var r={},o=function(t){try{var n=JSON.parse(t.data);if("object"!=typeof n||null===n)throw"malformed"}catch(t){return}var i,o,a,s=t.source,c=t.origin;if("string"==typeof n.method){var u=n.method.split("::");2==u.length?(i=u[0],a=u[1]):a=n.method}if(void 0!==n.id&&(o=n.id),"string"==typeof a){var l=!1;if(e[c]&&e[c][i])for(var f=0;f<e[c][i].length;f++)if(e[c][i][f].win===s){e[c][i][f].handler(c,a,n),l=!0;break}if(!l&&e["*"]&&e["*"][i])for(f=0;f<e["*"][i].length;f++)if(e["*"][i][f].win===s){e["*"][i][f].handler(c,a,n);break}}else void 0!==o&&r[o]&&r[o](c,a,n)};return window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent&&window.attachEvent("onmessage",o),{build:function(i){var o=function(t){if(i.debugOutput&&window.console&&window.console.log){try{"string"!=typeof t&&(t=JSON.stringify(t))}catch(t){}window.console.log("["+c+"] "+t)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof i)throw"Channel build invoked without a proper object argument";if(!i.window||!i.window.postMessage)throw"Channel.build() called without a valid window argument";window===i.window&&o("target window is same as present window -- use at your own risk");var a,s=!1;if("string"==typeof i.origin&&("*"===i.origin?s=!0:null!==(a=i.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(i.origin=a[0].toLowerCase(),s=!0)),!s)throw"Channel.build() called with an invalid origin";if(void 0!==i.scope){if("string"!=typeof i.scope)throw"scope, when specified, must be a string";if(i.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}else i.scope="__default";var c=function(){for(var t="",e=0;e<5;e++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}(),u={},l={},f={},d=!1,h=[],p=[],y=function(t,e,a){if("function"==typeof i.gotMessageObserver)try{i.gotMessageObserver(t,a)}catch(t){o("gotMessageObserver() raised an exception: "+t.toString())}if(a.id&&e){f[a.id]={};var s=function(t,e,n){var r=!1,i=!1;return{origin:e,invoke:function(e,r){if(!f[t])throw"attempting to invoke a callback of a nonexistent transaction: "+t;for(var i=!1,o=0;o<n.length;o++)if(e===n[o]){i=!0;break}if(!i)throw"request supports no such callback '"+e+"'";m({id:t,callback:e,params:r})},error:function(e,n){if(i=!0,!f[t])throw"error called for nonexistent message: "+t;delete f[t],m({id:t,error:e,message:n})},complete:function(e){if(i=!0,!f[t])throw"complete called for nonexistent message: "+t;delete f[t],m({id:t,result:e})},delayReturn:function(t){return"boolean"==typeof t&&(r=!0===t),r},completed:function(){return i}}}(a.id,t,a.callbacks?a.callbacks:[]);if(u[e])try{if(a.callbacks&&n(a.callbacks)&&a.callbacks.length>0)for(var c=0;c<a.callbacks.length;c++){for(var d=a.callbacks[c],h=a.params,p=d.split("/"),y=0;y<p.length-1;y++){var g=p[y];"object"!=typeof h[g]&&(h[g]={}),h=h[g]}h[p[p.length-1]]=function(){var t=d;return function(e){return s.invoke(t,e)}}()}var v=u[e](s,a.params);s.delayReturn()||s.completed()||s.complete(v)}catch(t){var w="runtime_error",b=null;if("string"==typeof t?b=t:"object"==typeof t&&(t instanceof Error?(w=t.constructor.name,b=t.message):t&&n(t)&&2==t.length?(w=t[0],b=t[1]):"string"==typeof t.error&&(w=t.error,t.message?"string"==typeof t.message?b=t.message:t=t.message:b="")),null===b)try{void 0===(b=JSON.stringify(t))&&(b=t.toString())}catch(e){b=t.toString()}s.error(w,b)}else s.error("method_not_found","No method '"+e+"' was (yet) bound by the provider")}else a.id&&a.callback?l[a.id]&&l[a.id].callbacks&&l[a.id].callbacks[a.callback]?l[a.id].callbacks[a.callback](a.params):o("ignoring invalid callback, id:"+a.id+" ("+a.callback+")"):a.id?l[a.id]?(a.error?l[a.id].error&&l[a.id].error(a.error,a.message):void 0!==a.result?l[a.id].success(a.result):l[a.id].success(),delete l[a.id],delete r[a.id]):o("ignoring invalid response: "+a.id):e&&u[e]&&u[e]({origin:t},a.params)};!function(t,n,r,i){function o(e){for(var n=0;n<e.length;n++)if(e[n].win===t)return!0;return!1}var a=!1;if("*"===n){for(var s in e)if(e.hasOwnProperty(s)&&"*"!==s&&"object"==typeof e[s][r]&&(a=o(e[s][r])))break}else e["*"]&&e["*"][r]&&(a=o(e["*"][r])),!a&&e[n]&&e[n][r]&&(a=o(e[n][r]));if(a)throw"A channel is already bound to the same window which overlaps with origin '"+n+"' and has scope '"+r+"'";"object"!=typeof e[n]&&(e[n]={}),"object"!=typeof e[n][r]&&(e[n][r]=[]),e[n][r].push({win:t,handler:i})}(i.window,i.origin,i.scope,y);var g=function(t){return[i.scope,t].join("::")},m=function(t,e){if(!t)throw"postMessage called with null message";if(e||d){if("function"==typeof i.postMessageObserver)try{i.postMessageObserver(i.origin,t)}catch(t){o("postMessageObserver() raised an exception: "+t.toString())}o("post message: "+JSON.stringify(t)+" with origin "+i.origin),i.window.postMessage(JSON.stringify(t),i.origin)}else o("queue message: "+JSON.stringify(t)),h.push(t)},v=function(t,e){var n;t=[].concat(t);for(var r=0;r<t.length;r++)e[n=t[r].toString()]=function(t){return function(e,n,r){n?w.call({method:t,params:e,success:n,error:r}):w.notify({method:t,params:e})}}(n)},w={remote:{},unbind:function(t,e){if(u[t]){if(!delete u[t])throw"can't delete method: "+t;return i.publish&&!e&&(d?w.notify({method:"__unbind",params:t}):p.push({action:"unbind",method:t})),!0}return!1},bind:function(t,e,n){if(!t||"string"!=typeof t)throw"'method' argument to bind must be string";if(!e||"function"!=typeof e)throw"callback missing from bind params";if(u[t])throw"method '"+t+"' is already bound!";return u[t]=e,i.publish&&!n&&(d?w.notify({method:"__bind",params:t}):p.push({action:"bind",method:t})),this},call:function(e){if(!e)throw"missing arguments to call function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to call must be string";if(!e.success||"function"!=typeof e.success)throw"'success' callback missing from call";var n={},i=[],o=[],a=function(t,e){if(o.indexOf(e)>=0)throw"params cannot be a recursive data structure";if(e&&o.push(e),"object"==typeof e)for(var r in e)if(e.hasOwnProperty(r)){var s=t+(t.length?"/":"")+r;"function"==typeof e[r]?(n[s]=e[r],i.push(s),delete e[r]):"object"==typeof e[r]&&a(s,e[r])}};a("",e.params);var s,c,u,f={id:t,method:g(e.method),params:e.params};i.length&&(f.callbacks=i),e.timeout&&(s=t,c=e.timeout,u=g(e.method),window.setTimeout((function(){if(l[s]){var t="timeout ("+c+"ms) exceeded on method '"+u+"'";l[s].error&&l[s].error("timeout_error",t),delete l[s],delete r[s]}}),c)),l[t]={callbacks:n,error:e.error,success:e.success},r[t]=y,t++,m(f)},notify:function(t){if(!t)throw"missing arguments to notify function";if(!t.method||"string"!=typeof t.method)throw"'method' argument to notify must be string";m({method:g(t.method),params:t.params})},destroy:function(){!function(t,n,r){for(var i=e[n][r],o=0;o<i.length;o++)i[o].win===t&&i.splice(o,1);0===e[n][r].length&&delete e[n][r]}(i.window,i.origin,i.scope),window.removeEventListener?window.removeEventListener("message",y,!1):window.detachEvent&&window.detachEvent("onmessage",y),d=!1,u={},f={},l={},i.origin=null,h=[],o("channel destroyed"),c=""}};return w.bind("__ready",(function(t,e){if(o("ready msg received"),d&&!i.reconnect)throw"received ready message while in ready state.";d=!0,c.length<6&&("publish-request"===e.type?c+="-R":c+="-L"),o("ready msg accepted."),"publish-request"===e.type&&w.notify({method:"__ready",params:{type:"publish-reply",publish:p}});for(var n=0;n<e.publish.length;n++)"bind"===e.publish[n].action?v([e.publish[n].method],w.remote):delete w.remote[e.publish[n].method];for(i.reconnect||w.unbind("__ready",!0);h.length;)m(h.splice(0,1)[0]);p=[],"function"==typeof i.onReady&&i.onReady(w)}),!0),w.bind("__bind",(function(t,e){v([e],w.remote)}),!0),w.bind("__unbind",(function(t,e){w.remote[e]&&delete w.remote[e]}),!0),i.remote&&v(i.remote,w.remote),setTimeout((function(){c.length>0&&m({method:g("__ready"),params:{type:"publish-request",publish:p}},!0)}),0),w}}}();var a=n(590);const s=2e4,c=32,u=[];function l(t){let e=null,n=1,l=[];const f={id:r.Z_(r.DU(5)+Date.now().toString().substr(0,8)).substr(0,c),secret:r.DU(32),type:t,nonce:!1,connected:!1};let h=[];function p(){}return f.send=async(t,e)=>{if("widget.size"!==t&&i.DS&&console.log(`CLYM[${f.type}]>`,t,e),!f.connected)return h.push({action:t,data:e}),!0;let r={id:Date.now().toString()+n,action:t,data:e??{},cid:f.id};return n++,new Promise(((t,e)=>{f.call("api.event",r).then((n=>"object"==typeof n&&n?"ERROR"===n.type?e(n.error):void t(n.data):t())).catch(e)}))},f.connect=async t=>{if(f.connected)return Promise.resolve(e);let n=await a.V();return f.iframe=t,new Promise(((r,i)=>{let a=!1,c=setTimeout((()=>{a||(a=!0,i(new Error("Could not establish a connection with frame")))}),s);e=o.build({window:t.contentWindow,origin:"*",scope:"clym",onReady:()=>{f.call("connect",{sid:n,id:f.id,secret:f.secret,origin:window.location.host,path:window.location.pathname,proto:window.location.protocol.split(":")[0]}).then((t=>{if(clearTimeout(c),!a){if(a=!0,f.connected=!0,h.length>0){let t=h;h=[];for(let e=0;e<t.length;e++)f.send(t[e].action,t[e].data).catch(p)}r(t)}})).catch((t=>{clearTimeout(c),a||(a=!0,console&&console.error&&console.error(t),i(t))}))}})}))},f.call=(t,n)=>new Promise(((r,o)=>{if(!e)return o(new Error(`${i.yl}: secure channel is not yet established`));let a={method:t,params:n||{},success:t=>r(t),error:t=>o(t)};e.call(a)})),f.listen=(t,n)=>{let r=!1;n||(n=e),n.bind("api.event",(async(e,n)=>{if("object"!=typeof n||!n)return;if("string"!=typeof n.action||!n.action)return;if(n.cid&&n.cid!==f.id)return;if(!r&&t&&(t(),r=!0,t=null),n.action.startsWith("bridge:")){if(e.delayReturn(!0),"bridge:broadcast"===n.action)return d(n.data.event,n.data.data),void e.complete({type:"SUCCESS"});try{const t=await d(n.action,n.data,"bridge");e.complete({type:"SUCCESS",data:t})}catch(e){e.complete({type:"ERROR",data:e})}return}if("object"!=typeof n||!n)return e.complete();if(void 0===l[n.action])return e.complete();e.delayReturn(!0);let i=l[n.action];i instanceof Array||(i=[i]);let o=[];for(let t=0,r=i.length;t<r;t++)try{let e=await i[t](n.data)||{};o.push(e)}catch(e){console.log(`Clym error on ${n.action}`),console.error(e)}return 0===o.length?e.complete():(o.length,e.complete({type:"SUCCESS",data:o[0]}))}))},f.on=(t,e)=>{t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++){let r=t[n];void 0===l[r]&&(l[r]=[]),l[r].push(e)}return function(){for(let n=0;n<t.length;n++){let r=t[n];if(void 0!==l[r]){let t=l[r].indexOf(e);-1!==t&&l.splice(t,1)}}}},u.push(f),f.trigger=(t,e)=>{let n=l[t];n instanceof Array||(n=[n]);for(let t=0,r=n.length;t<r;t++)n[t](e??{})},f}function f(t){for(let e=0;e<u.length;e++)if(u[e].type===t)return u[e];return null}async function d(t,e,n){let r=[];for(let i=0;i<u.length;i++){const o=u[i];if(!n||o.type===n)try{let i=await o.send(t,e);if(n)return i;r.push(i)}catch(t){console.log("Clym:",t)}}return r}async function h(t,e,n){const r=`bridge:${t}.${e}`,i=f("bridge");return i?i.send(r,n):null}async function p(t,e){const n=f("bridge");return n?n.trigger(t,e):null}},590:(t,e,n)=>{"use strict";n.d(e,{H:()=>l,V:()=>u});var r=n(790);const i="clym_privacy",o=1,a="clymio_host";let s=!1;async function c(){try{s=await r.createInstance({name:"clymio_host",version:o,storeName:a})}catch(t){console.log("Can't init forage: ",t)}}async function u(){try{s||await c();let t=await s.getItem(i);if("string"!=typeof t||!t)throw 1;if(t=JSON.parse(t),"object"!=typeof t||!t)throw 2;if("string"!=typeof t.s||!t.s)throw 3;return t.s}catch(t){}return null}async function l(t){try{if(s||await c(),"string"==typeof t&&t){let e={s:t};e=JSON.stringify(e),await s.setItem(i,e)}else await s.removeItem(i)}catch(t){}}},655:(t,e,n)=>{"use strict";n.d(e,{$f:()=>c,AG:()=>y,BY:()=>u,DU:()=>s,Ij:()=>p,KM:()=>l,OP:()=>a,U8:()=>h,YO:()=>m,ZH:()=>v,Z_:()=>d,_b:()=>f,h1:()=>g,w8:()=>o});var r=n(312),i=n(299);function o(t,e){return r.hmac(e,t)}function a(t,e){console&&console.warn&&console.warn(`${i.yl}:`,t),e&&a(e)}function s(t){let e="";for(var n=0;n<t;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}function c(t){let e=[];return Object.keys(t).sort().forEach((n=>{if("timer"===n)return;let r=t[n];"100vh"===r&&(r="100dvh"),"100vw"===r&&(r="100dvw"),e.push(n+": "+r)})),e=e.join("; "),e}function u(t,e){t||(t={});let n={width:t.width||"0px !important",height:t.height||"0px !important",margin:t.margin||"0 !important",display:t.display||"block !important","background-color":"transparent !important",position:"relative !important","min-height":"0 !important","min-width":"0 !important"};return"object"==typeof e&&e&&Object.keys(e).forEach((t=>{n[t]=e[t]})),t.border?(n["border-radius"]="4px !important",n["box-shadow"]="0px 1px 2px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 1px -1px rgba(0, 0, 0, 0.12) !important",n["background-color"]="#fbfbfb !important"):n["border-style"]="none !important",n}function l(t){let e="";try{e=t.getAttribute("style")}catch(n){try{e=t.style}catch(t){}}if("string"!=typeof e)return{};let n={},r=e.split(";");for(let t=0,e=r.length;t<e;t++){let e=r[t].trim().split(":"),i=(e[0]||"").trim(),o=(e[1]||"").trim();i&&(n[i]=o)}return n}function f(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}function d(t){return r(t)}function h(t){try{const e=new URL(t);return"http:"===e.protocol||"https:"===e.protocol}catch(t){return!1}}function p(){return"id-"+Math.random().toString(36).substr(2,9)}async function y(t,e,n={}){return new Promise((async(r,o)=>{e||(e={}),n.sc?e.sc=n.sc:e.sc=Date.now().toString().substr(0,8),t+=-1===t.indexOf("?")?"?":"&";let a=new URLSearchParams;Object.keys(e).forEach((t=>a.set(t,e[t]))),t+=a.toString(),n.portal&&(t=i.w6+t),"object"==typeof window._clymApi&&window._clymApi||(window._clymApi={});let s=!1,c=setTimeout((()=>{if(!s)return l.remove(),s=!0,delete window._clymApi[e.sc],n.silent?r(null):o(new Error("Could not contact Clym servers"))}),5e3);window._clymApi[e.sc]=function(t,i){if(l.remove(),delete window._clymApi[e.sc],!s){if(s=!0,clearTimeout(c),t)return n.silent?r(null):o(t);r(i)}};let u=document.getElementById("clym-api-scripts");if(u||(u=document.createElement("div"),u.id="clym-api-scripts",document.body.appendChild(u)),!u)return n.silent?r(null):o(new Error("Root api script now found"));let l=document.createElement("script");l.onerror=function(t){if(!s)return l.remove(),s=!0,clearTimeout(c),delete window._clymApi[e.sc],n.silent?r(null):o(new Error("Could not contact Clym servers"))},l.src=t,l.type="text/javascript",l.async=!0;try{l.setAttribute("async","true")}catch(t){}u.appendChild(l)}))}function g(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return;if("object"!=typeof e||!e)return;let n=Object.keys(e);for(let r=0,i=n.length;r<i;r++){let i=n[r];if(typeof t[i]!=typeof e[i]){t[i]=e[i];continue}let o=typeof e[i];-1!==["string","boolean","number"].indexOf(o)||t[i]instanceof Array&&e[i]instanceof Array?t[i]=e[i]:"object"===o&&e[i]&&("object"==typeof t[i]&&t[i]||(t[i]={}),g(t[i],e[i]))}return t}function m(t){let e={};if(t?.$$typeof)return t;for(let n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]&&null!==t[n]){let r=m(t[n]);if(r?.$$typeof){e[n]=r;continue}for(let t in r)r.hasOwnProperty(t)&&(e[n+"."+t]=r[t])}else e[n]=t[n];return e}function v(t){if("number"==typeof t)return t.toString();if("string"!=typeof t)return"";if(""===(t=t.trim()))return"";let e=(t=t.replace(/_/g," ")).split(" ");for(let t=0;t<e.length;t++)e[t]!==e[t].toUpperCase()&&(e[t]=e[t].toLowerCase());return(t=e.join(" ")).charAt(0).toUpperCase()+t.substr(1)}},234:(t,e,n)=>{"use strict";n.d(e,{Fn:()=>d,IU:()=>v,LF:()=>m,OH:()=>b,TF:()=>g,UN:()=>y,oY:()=>h,qf:()=>S,t2:()=>p,u2:()=>A,ug:()=>f});var r=n(790),i=n(655);const o=["sid"],a=600,s={},c=r.createInstance({name:"clym_widget_by_host",version:2,storeName:"clymio_"});let u=null,l={};const f=r.createInstance({name:"accessibility",version:1,PREFIX:"clym"});function d(){f.clear()}function h(t){u=t.substr(0,10)}async function p(t){try{if(!(t=I(t)))return;return!(null==await c.getItem(t))}catch(t){return!1}}async function y(t,e){try{if(!(t=I(t)))return;try{if(-1!==t.indexOf(":lang")&&(e=JSON.parse(JSON.stringify(e))).languages instanceof Array)for(let t=0;t<e.languages.length;t++)e.languages[t].url&&delete e.languages[t].url}catch(t){}return O(t,e),await c.setItem(t,e),!0}catch(t){return console.log(t),!1}}async function g(t){if(t=I(t)){O(t);try{return await c.removeItem(t),!0}catch(t){return!1}}}async function m(t){try{let e=t;if(!(t=I(t)))return;let n=await c.getItem(t);return void 0===n?null:(void 0===l[e]&&O(t,n),n)}catch(t){return null}}async function v(t){try{let e=await c.keys()||[];for(let n=0,r=e.length;n<r;n++){let r=e[n];(t||0===r.indexOf(u))&&await c.removeItem(r)}}catch(t){return!1}}f.setDriver(r.LOCALSTORAGE);let w=null;async function b(){w&&clearTimeout(w);let t=[];try{let e=await c.keys();for(let n=0,r=e.length;n<r;n++){let r=e[n];if(0!==r.indexOf(u+":"))continue;let i=await c.getItem(r),o=N(i);r=r.split(":")[1],l[r]!==o&&(t.push({key:r,data:i}),l[r]=o)}}catch(t){}for(let e=0;e<t.length;e++)_(t[e].key,t[e].data);w=setTimeout(b,a)}function _(t,e){if(s[t])for(let n=0,r=s[t].length;n<r;n++)s[t][n](e)}function S(){clearTimeout(w),l={}}let E=!0;async function A(){try{let t=await c.keys();for(let e=0,n=t.length;e<n;e++){let n=t[e];0===n.indexOf(u+":")&&await m(n)}w=setTimeout(b,a)}catch(t){E=!1,i.OP(`could not start storage sync: ${t.message}`)}}function I(t){return-1!==o.indexOf(t)?t:u?0===t.indexOf(u+":")?t:u+":"+t:null}function O(t,e){if(-1!==o.indexOf(t))return;if(!u||0!==t.indexOf(u+":"))return;if(t=t.split(":")[1],null==e)return void(l[t]&&delete l[t]);try{e=JSON.stringify(e)}catch(t){return}let n=i.Z_(e);l[t]=n}function N(t){try{return t=JSON.stringify(t),i.Z_(t)}catch(t){return null}}},312:(t,e,n)=>{var r;!function(){"use strict";var e="input is invalid type",i="object"==typeof window,o=i?window:{};o.JS_SHA256_NO_WINDOW&&(i=!1);var a=!i&&"object"==typeof self,s=!o.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s?o=n.g:a&&(o=self);var c=!o.JS_SHA256_NO_COMMON_JS&&t.exports,u=n.amdO,l=!o.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,f="0123456789abcdef".split(""),d=[-2147483648,8388608,32768,128],h=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=["hex","array","digest","arrayBuffer"],g=[];!o.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!l||!o.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var m=function(t,e){return function(n){return new S(e,!0).update(n)[t]()}},v=function(t){var e=m("hex",t);s&&(e=w(e,t)),e.create=function(){return new S(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<y.length;++n){var r=y[n];e[r]=m(r,t)}return e},w=function(t,r){var i,a=n(394),s=n(903).Buffer,c=r?"sha224":"sha256";return i=s.from&&!o.JS_SHA256_NO_BUFFER_FROM?s.from:function(t){return new s(t)},function(n){if("string"==typeof n)return a.createHash(c).update(n,"utf8").digest("hex");if(null==n)throw new Error(e);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===s?a.createHash(c).update(i(n)).digest("hex"):t(n)}},b=function(t,e){return function(n,r){return new E(n,e,!0).update(r)[t]()}},_=function(t){var e=b("hex",t);e.create=function(e){return new E(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<y.length;++n){var r=y[n];e[r]=b(r,t)}return e};function S(t,e){e?(g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function E(t,n,r){var i,o=typeof t;if("string"===o){var a,s=[],c=t.length,u=0;for(i=0;i<c;++i)(a=t.charCodeAt(i))<128?s[u++]=a:a<2048?(s[u++]=192|a>>>6,s[u++]=128|63&a):a<55296||a>=57344?(s[u++]=224|a>>>12,s[u++]=128|a>>>6&63,s[u++]=128|63&a):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++i)),s[u++]=240|a>>>18,s[u++]=128|a>>>12&63,s[u++]=128|a>>>6&63,s[u++]=128|63&a);t=s}else{if("object"!==o)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new S(n,!0).update(t).array());var f=[],d=[];for(i=0;i<64;++i){var h=t[i]||0;f[i]=92^h,d[i]=54^h}S.call(this,n,r),this.update(d),this.oKeyPad=f,this.inner=!0,this.sharedMemory=r}S.prototype.update=function(t){if(!this.finalized){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var i,o,a=0,s=t.length,c=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,this.block=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),n)for(o=this.start;a<s&&o<64;++a)c[o>>>2]|=t[a]<<h[3&o++];else for(o=this.start;a<s&&o<64;++a)(i=t.charCodeAt(a))<128?c[o>>>2]|=i<<h[3&o++]:i<2048?(c[o>>>2]|=(192|i>>>6)<<h[3&o++],c[o>>>2]|=(128|63&i)<<h[3&o++]):i<55296||i>=57344?(c[o>>>2]|=(224|i>>>12)<<h[3&o++],c[o>>>2]|=(128|i>>>6&63)<<h[3&o++],c[o>>>2]|=(128|63&i)<<h[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++a)),c[o>>>2]|=(240|i>>>18)<<h[3&o++],c[o>>>2]|=(128|i>>>12&63)<<h[3&o++],c[o>>>2]|=(128|i>>>6&63)<<h[3&o++],c[o>>>2]|=(128|63&i)<<h[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=c[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=d[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},S.prototype.hash=function(){var t,e,n,r,i,o,a,s,c,u=this.h0,l=this.h1,f=this.h2,d=this.h3,h=this.h4,y=this.h5,g=this.h6,m=this.h7,v=this.blocks;for(t=16;t<64;++t)e=((i=v[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=v[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[t]=v[t-16]+e+v[t-7]+n|0;for(c=l&f,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,m=(i=v[0]-1413257819)-150054599|0,d=i+24177077|0):(o=704751109,m=(i=v[0]-210244248)-1521486534|0,d=i+143694565|0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&l)^u&f^c,m=d+(i=m+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&y^~h&g)+p[t]+v[t])|0,d=i+(e+r)|0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&u)^d&l^o,g=f+(i=g+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&h^~m&y)+p[t+1]+v[t+1])|0,e=((f=i+(e+r)|0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(s=f&d)^f&u^a,y=l+(i=y+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&h)+p[t+2]+v[t+2])|0,e=((l=i+(e+r)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(c=l&f)^l&d^s,h=u+(i=h+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&m)+p[t+3]+v[t+3])|0,u=i+(e+r)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+u|0,this.h1=this.h1+l|0,this.h2=this.h2+f|0,this.h3=this.h3+d|0,this.h4=this.h4+h|0,this.h5=this.h5+y|0,this.h6=this.h6+g|0,this.h7=this.h7+m|0},S.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=f[t>>>28&15]+f[t>>>24&15]+f[t>>>20&15]+f[t>>>16&15]+f[t>>>12&15]+f[t>>>8&15]+f[t>>>4&15]+f[15&t]+f[e>>>28&15]+f[e>>>24&15]+f[e>>>20&15]+f[e>>>16&15]+f[e>>>12&15]+f[e>>>8&15]+f[e>>>4&15]+f[15&e]+f[n>>>28&15]+f[n>>>24&15]+f[n>>>20&15]+f[n>>>16&15]+f[n>>>12&15]+f[n>>>8&15]+f[n>>>4&15]+f[15&n]+f[r>>>28&15]+f[r>>>24&15]+f[r>>>20&15]+f[r>>>16&15]+f[r>>>12&15]+f[r>>>8&15]+f[r>>>4&15]+f[15&r]+f[i>>>28&15]+f[i>>>24&15]+f[i>>>20&15]+f[i>>>16&15]+f[i>>>12&15]+f[i>>>8&15]+f[i>>>4&15]+f[15&i]+f[o>>>28&15]+f[o>>>24&15]+f[o>>>20&15]+f[o>>>16&15]+f[o>>>12&15]+f[o>>>8&15]+f[o>>>4&15]+f[15&o]+f[a>>>28&15]+f[a>>>24&15]+f[a>>>20&15]+f[a>>>16&15]+f[a>>>12&15]+f[a>>>8&15]+f[a>>>4&15]+f[15&a];return this.is224||(c+=f[s>>>28&15]+f[s>>>24&15]+f[s>>>20&15]+f[s>>>16&15]+f[s>>>12&15]+f[s>>>8&15]+f[s>>>4&15]+f[15&s]),c},S.prototype.toString=S.prototype.hex,S.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a];return this.is224||c.push(s>>>24&255,s>>>16&255,s>>>8&255,255&s),c},S.prototype.array=S.prototype.digest,S.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},E.prototype=new S,E.prototype.finalize=function(){if(S.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();S.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),S.prototype.finalize.call(this)}};var A=v();A.sha256=A,A.sha224=v(!0),A.sha256.hmac=_(),A.sha224.hmac=_(!0),c?t.exports=A:(o.sha256=A.sha256,o.sha224=A.sha224,u&&(void 0===(r=function(){return A}.call(A,n,A,t))||(t.exports=r)))}()},790:(t,e,n)=>{t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return i(e[a][1][t]||t)}),u,u.exports,t,e,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,r){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;r=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}r=!1}e.exports=function(t){1!==u.push(t)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==i&&h(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(t,e,n){r((function(){var r;try{r=e(n)}catch(e){return o.reject(t,e)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=p((function(){e(i,r)}));"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==c?f(n,this.state===s?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(d,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)h(t,r);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},u.reject=function(t){var e=new this(i);return o.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(i);++c<n;)l(t[c],c);return u;function l(t,i){e.resolve(t).then((function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(t){r||(r=!0,o.reject(u,t))}))}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,r=t.length,a=!1;if(!r)return this.resolve([]);for(var s=-1,c=new this(i);++s<r;)n=t[s],e.resolve(n).then((function(t){a||(a=!0,o.resolve(c,t))}),(function(t){a||(a=!0,o.reject(c,t))}));return c}},{1:1}],3:[function(t,e,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",d=void 0,h={},p=Object.prototype.toString,y="readonly",g="readwrite";function m(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function v(t){return"boolean"==typeof d?a.resolve(d):function(t){return new a((function(e){var n=t.transaction(f,g),r=o([""]);n.objectStore(f).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return d=t}))}function w(t){var e=h[t.name],n={};n.promise=new a((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function b(t){var e=h[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _(t,e){var n=h[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function S(t,e){return new a((function(n,r){if(h[t.name]=h[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);w(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var a=i.open.apply(i,o);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(f)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){var e=a.result;e.onversionchange=function(t){t.target.close()},n(e),b(t)}}))}function E(t){return S(t,!1)}function A(t){return S(t,!0)}function I(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function O(t){return o([m(atob(t.data))],{type:t.type})}function N(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then((function(){var t=h[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return c(n,t,t),n}function j(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(i){if(r>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),A(t)})).then((function(){return function(t){w(t);for(var e=h[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,E(t).then((function(e){return t.db=e,I(t)?A(t):e})).then((function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(e){throw _(t,e),e}))}(t).then((function(){j(t,e,n,r-1)}))})).catch(n);n(i)}}var k={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=h[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=i),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=x);var o=[];function s(){return a.resolve()}for(var c=0;c<i.forages.length;c++){var u=i.forages[c];u!==e&&o.push(u._initReady().catch(s))}var l=i.forages.slice(0);return a.all(o).then((function(){return n.db=i.db,E(n)})).then((function(t){return n.db=t,I(n,e._defaultConfig.version)?A(n):t})).then((function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new a((function(e,r){n.ready().then((function(){j(n._dbInfo,y,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;N(r)&&(r=O(r));var i=t(r,n.key,s++);void 0!==i?e(i):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(t){r(t)}}))})).catch(r)}));return s(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new a((function(e,r){n.ready().then((function(){j(n._dbInfo,y,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),N(t)&&(t=O(t)),e(t)},a.onerror=function(){r(a.error)}}catch(t){r(t)}}))})).catch(r)}));return s(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var i=new a((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===p.call(e)?v(o.db).then((function(t){return t?e:(n=e,new a((function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):e})).then((function(e){j(r._dbInfo,g,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var c=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){var t=c.error?c.error:c.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return s(i,n),i},removeItem:function(t,e){var n=this;t=u(t);var r=new a((function(e,r){n.ready().then((function(){j(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return s(r,e),r},clear:function(t){var e=this,n=new a((function(t,n){e.ready().then((function(){j(e._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new a((function(t,n){e.ready().then((function(){j(e._dbInfo,y,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,r=new a((function(e,r){t<0?e(null):n.ready().then((function(){j(n._dbInfo,y,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},c.onerror=function(){r(c.error)}}catch(t){r(t)}}))})).catch(r)}));return s(r,e),r},keys:function(t){var e=this,n=new a((function(t,n){e.ready().then((function(){j(e._dbInfo,y,(function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var e=o.result;e?(a.push(e.key),e.continue()):t(a)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n,r=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var o=t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):E(t).then((function(e){var n=h[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));n=t.storeName?o.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;w(t);var r=h[t.name],o=r.forages;e.close();for(var s=0;s<o.length;s++){var c=o[s];c._dbInfo.db=null,c._dbInfo.version=n}var u=new a((function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return u.then((function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,b(n._dbInfo)}})).catch((function(e){throw(_(t,e)||a.resolve()).catch((function(){})),e}))}})):o.then((function(e){w(t);var n=h[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var s=new a((function(e,n){var r=i.deleteDatabase(t.name);r.onerror=function(){var t=r.result;t&&t.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}));return s.then((function(t){n.db=t;for(var e=0;e<r.length;e++)b(r[e]._dbInfo)})).catch((function(e){throw(_(t,e)||a.resolve()).catch((function(){})),e}))}))}else n=a.reject("Invalid arguments");return s(n,e),n}};var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=/^~~local_forage_type~([^~]+)~/,T="__lfsc__:",B="arbf",P="blob",D="si08",L="ui08",M="uic8",U="si16",F="si32",$="ur16",W="ui32",q="fl32",z="fl64",V=Object.prototype.toString;function J(t){var e,n,r,i,o,a=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(e=0;e<s;e+=4)n=C.indexOf(t[e]),r=C.indexOf(t[e+1]),i=C.indexOf(t[e+2]),o=C.indexOf(t[e+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}function H(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=C[n[e]>>2],r+=C[(3&n[e])<<4|n[e+1]>>4],r+=C[(15&n[e+1])<<2|n[e+2]>>6],r+=C[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var K={serialize:function(t,e){var n="";if(t&&(n=V.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===V.call(t.buffer))){var r,i=T;t instanceof ArrayBuffer?(r=t,i+=B):(r=t.buffer,"[object Int8Array]"===n?i+=D:"[object Uint8Array]"===n?i+=L:"[object Uint8ClampedArray]"===n?i+=M:"[object Int16Array]"===n?i+=U:"[object Uint16Array]"===n?i+=$:"[object Int32Array]"===n?i+=F:"[object Uint32Array]"===n?i+=W:"[object Float32Array]"===n?i+=q:"[object Float64Array]"===n?i+=z:e(new Error("Failed to get type for BinaryArray"))),e(i+H(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+H(this.result);e(T+P+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,9)!==T)return JSON.parse(t);var e,n=t.substring(13),r=t.substring(9,13);if(r===P&&R.test(n)){var i=n.match(R);e=i[1],n=n.substring(i[0].length)}var a=J(n);switch(r){case B:return a;case P:return o([a],{type:e});case D:return new Int8Array(a);case L:return new Uint8Array(a);case M:return new Uint8ClampedArray(a);case U:return new Int16Array(a);case $:return new Uint16Array(a);case F:return new Int32Array(a);case W:return new Uint32Array(a);case q:return new Float32Array(a);case z:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:J,bufferToString:H};function Y(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function G(t,e,n,r,i,o){t.executeSql(n,r,i,(function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?o(t,a):Y(t,e,(function(){t.executeSql(n,r,i,o)}),o)}),o):o(t,a)}),o)}function X(t,e,n,r){var i=this;t=u(t);var o=new a((function(o,a){i.ready().then((function(){void 0===e&&(e=null);var s=e,c=i._dbInfo;c.serializer.serialize(e,(function(e,u){u?a(u):c.db.transaction((function(n){G(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){a(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(X.apply(i,[t,s,n,r-1]));a(e)}}))}))})).catch(a)}));return s(o,n),o}var Q={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new a((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction((function(i){Y(i,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=K,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){G(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=t(u,c.key,s+1)))return void e(u)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new a((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){G(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,e),r},setItem:function(t,e,n){return X.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=u(t);var r=new a((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){G(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,e),r},clear:function(t){var e=this,n=new a((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){G(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new a((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){G(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,r=new a((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){G(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return s(r,e),r},keys:function(t){var e=this,n=new a((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){G(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return s(r=t.name?new a((function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e(function(t){return new a((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}(r))})).then((function(t){return new a((function(e,n){t.db.transaction((function(r){function i(t){return new a((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],s=0,c=t.storeNames.length;s<c;s++)o.push(i(t.storeNames[s]));a.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):a.reject("Invalid arguments"),e),r}};function Z(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function tt(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var et={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=Z(t,this._defaultConfig),tt()?(this._dbInfo=e,e.serializer=K,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(i),a++)))return u}}}));return s(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return s(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var i=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new a((function(i,o){var a=r._dbInfo;a.serializer.serialize(e,(function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return s(i,n),i},removeItem:function(t,e){var n=this;t=u(t);var r=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return s(r,e),r},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return s(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return s(e,t),e},key:function(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return s(r,e),r},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r}));return s(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return r=t.name?new a((function(e){t.storeName?e(Z(t,i._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),s(r,e),r}},nt=function(t,e){for(var n=t.length,r=0;r<n;){if((i=t[r])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},rt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},it={},ot={},at={INDEXEDDB:k,WEBSQL:Q,LOCALSTORAGE:et},st=[at.INDEXEDDB._driver,at.WEBSQL._driver,at.LOCALSTORAGE._driver],ct=["dropInstance"],ut=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ct),lt={description:"",driver:st.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(rt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var ht=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),at)if(at.hasOwnProperty(n)){var r=at[n],i=r._driver;this[n]=i,it[i]||this.defineDriver(r)}this._defaultConfig=dt({},lt),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new a((function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=ut.concat("_initStorage"),c=0,u=o.length;c<u;c++){var l=o[c];if((!nt(ct,l)||t[l])&&"function"!=typeof t[l])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,r=ct.length;n<r;n++){var i=ct[n];t[i]||(t[i]=e(i))}}();var f=function(n){it[r]&&console.info("Redefining LocalForage driver: "+r),it[r]=t,ot[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,n):f(!!t._support):f(!0)}catch(t){n(t)}}));return c(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=it[t]?a.resolve(it[t]):a.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(K);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;rt(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function s(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=u.then((function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(i)}))})).catch((function(){o();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet})),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!ot[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ut.length;t<e;t++)ft(this,ut[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),pt=new ht;e.exports=pt},{3:3}]},{},[4])(4)},903:()=>{},394:()=>{}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,exports:{}};return n[t](o,o.exports,i),o.exports}i.m=n,i.amdO={},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,n)=>(i.f[n](t,e),e)),[])),i.u=t=>t+".clym.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="widget-ui:",i.l=(n,r,o,a)=>{if(t[n])t[n].push(r);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var f=u[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+o){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=n),t[n]=[r];var d=(e,r)=>{s.onerror=s.onload=null,clearTimeout(h);var i=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(r))),e)return e(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="https://widget-next.clym-sdk.net/latest/",(()=>{i.b=document.baseURI||self.location.href;var t={792:0};i.f.j=(e,n)=>{var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=t[e]=[n,i]));n.push(r[2]=o);var a=i.p+i.u(e),s=new Error;i.l(a,(n=>{if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,o,[a,s,c]=n,u=0;if(a.some((e=>0!==t[e]))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);c&&c(i)}for(e&&e(n);u<a.length;u++)o=a[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkwidget_ui=self.webpackChunkwidget_ui||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";var t=i(538),e=i(655),n=i(299),r=i(234);let o=[],a={};const s={EVENT:{TAG_CREATED:"clym.tag.created",CONSENT_CHANGE:"clym.consent.change",READY:"clym.ready",LAUNCH_CUSTOM_NOTICE:"clym.launch.customNotice"},loaded:!1,bridge:!1};let c;function u(t,n){if("string"!=typeof n||!n)return(0,e.OP)(`usage clym.${t}([event], [fn])`),!1;let r=!1;return Object.keys(s.EVENT).forEach((t=>{s.EVENT[t]===n&&(r=!0)})),!!r||((0,e.OP)(`clym.${t}(${n}) event not supported`),!1)}async function l(e,n){if("string"!=typeof n||!n)return!1;n=n.trim();try{let r;return r=s.bridge?await(0,t.yS)("consent","getConsentStatus",{type:e,name:n}):await(0,t.tN)("widget.consent.status",{type:e,name:n},"widget"),"boolean"==typeof r&&r}catch(t){return console&&console.error&&console.error(t),!1}}s.ready=t=>{if(void 0===t)return s.loaded;if("function"!=typeof t)return console&&console.warn&&console.warn("Clym.ready(fn): fn is not a function"),!1;if(s.loaded)try{t()}catch(t){console&&console.error&&console.error(t)}else o.push(t);return!0},s.on=(t,n)=>!!u("on",t)&&("function"!=typeof n?((0,e.OP)(`on("${t}") requires a callback function`),!1):(a[t]||(a[t]=[]),a[t].push(n),!0)),s.once=(t,n)=>!!u("once",t)&&("function"!=typeof n?((0,e.OP)(`on("${t}") requires a callback function`),!1):s.on(t,(function e(r){n(r),s.off(t,e)}))),s.off=(t,e)=>{if(!u("off",t))return!1;if(!a[t])return!0;if(void 0===e)return delete a[t],!0;for(let n=0,r=a[t].length;n<r;n++)if(e===a[t][n]){a[t].splice(n,1);break}return 0===a[t].length&&delete a[t],!0},s.showWidget=async(e="",n={},r=null)=>{if(r)try{r.preventDefault()}catch(t){}s.bridge&&(await(0,t.yS)("store","setComponentVisible",{kind:"widget",is_open:!0}),!1!==n.bridge&&await(0,t.cR)("widget.launch.button")),await(0,t.tN)("widget.open",{page:e||void 0,options:n||{}},"widget")},s.showPrivacyCenter=()=>{console.log("Clym: privacy center has been deprecated.");const t=`https://${s.id}.${n.gi}/`;return window.open(t,"_blank"),!1},s.hidePrivacyCenter=()=>(console.log("Clym: privacy center has been deprecated."),!1),s.hideWidget=async()=>{s.bridge&&await(0,t.yS)("store","setComponentVisible",{kind:"widget",is_open:!1}),await(0,t.tN)("widget.close",{},"widget")},s.forgetUser=async()=>{r.qf(),s.bridge&&await(0,t.yS)("consent","forgetMe"),await(0,t.tN)("user.forget",{}),await r.IU(!0);try{window.location.reload()}catch(t){}},s.isCookieAllowed=t=>l("COOKIE",t),s.isTagAllowed=t=>l("TAG",t),s.acceptAll=e=>s.bridge?(0,t.yS)("consent","acceptAll",e):(0,t.tN)("widget.consent.acceptAll",{options:e||{}},"widget"),s.rejectAll=e=>s.bridge?(0,t.yS)("consent","rejectAll",e):(0,t.tN)("widget.consent.rejectAll",{options:e||{}},"widget"),s.getUserId=async()=>{if(s.bridge){const e=await(0,t.yS)("store","getState");return e?.profile?.id?e.profile.id.toString():null}let e=await(0,t.tN)("widget.profile.id",{},"widget");return"number"==typeof e&&(e=e.toString()),"string"==typeof e&&e?e:null},s._triggerLoad=t=>{for(let t=0,n=o.length;t<n;t++){let n=o[t];try{n()}catch(t){(0,e.OP)("ready(fn) threw an exception",t)}}o=[],"function"==typeof window._onClymInit&&(window._onClymInit(t),delete window._onClymInit)},s._triggerEvent=(t,e)=>{if("string"!=typeof t||!t)return;if(!a[t])return;let n=[];for(let e=0,r=a[t].length;e<r;e++)n.push(a[t][e]);for(let t=0,r=n.length;t<r;t++){let r=n[t];try{r(e)}catch(t){console&&console.error&&console.error(t)}}},s.a11y={init:t=>{h((async e=>{await e.loadStateData(),c=new e.A11yHandler(t)}))},change:t=>{if(!c)return!1;c.triggerChange(t)},sync:async()=>{if(!c)return!1;const e=c.getState();return await(0,t.tN)("accessibility.syncState",{payload:e},"widget")},data:(t,e)=>{if(!c)return!1;(e?[e]:document.querySelectorAll(".clym-widget-iframe")).forEach((e=>{c.syncWidgetData(t,e)}))}},s._a11yStructure=()=>{h((async e=>{const n=e.getPageStructureData();await(0,t.tN)("accessibility.getPageStructureData",n,"widget")}))},s._a11yAction=async t=>{h((e=>{e.handlePageStructureAction(t.id,t.type)}))},s.getWidgetData=async()=>{if(s.bridge){const e=await(0,t.yS)("store","getState");return e?.widget||{}}return await(0,t.tN)("widget.data",{},"widget")},s.getConsent=async()=>{if(s.bridge){const e=await(0,t.yS)("store","getState");return e?.consent||{}}return await(0,t.tN)("widget.consent",{},"widget")},s.renderDocument=async(t,r,i={})=>{try{const o=await(0,e.AG)(r,{build:n.Bv,_v:n.xv},{silent:i.silent});if(!o)throw new Error("Document could not be loaded");return t.innerHTML=o.content||"",!0}catch(t){if(i.silent)return(0,e.OP)(`document could not be loaded for rendering: ${r}`),!1;throw t}};const f=s;let d;function h(t){if(d)return d;i.e(798).then(i.bind(i,798)).then((e=>{d=e,t(d)}))}var p=i(40),y=i.n(p);let g=null;function m(){void 0===window.__tcfapi&&y()(),Promise.all([i.e(131),i.e(91)]).then(i.bind(i,91)).then((t=>{const{CmpApi:e}=t;g=new e(213,1,!0)}))}let v=null,w=!1;async function b(){w||(window.__gpp||(window.__gpp_addFrame=function(t){if(!window.frames[t])if(document.body){var e=document.createElement("iframe");e.style.cssText="display:none",e.name=t,document.body.appendChild(e)}else window.setTimeout(window.__gpp_addFrame,10,t)},window.__gpp_stub=function(){var t=arguments;if(__gpp.queue=__gpp.queue||[],__gpp.events=__gpp.events||[],!t.length||1==t.length&&"queue"==t[0])return __gpp.queue;if(1==t.length&&"events"==t[0])return __gpp.events;var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;if("ping"===e)n({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}},!0);else if("addEventListener"===e){"lastId"in __gpp||(__gpp.lastId=0),__gpp.lastId++;var i=__gpp.lastId;__gpp.events.push({id:i,callback:n,parameter:r}),n({eventName:"listenerRegistered",listenerId:i,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else if("removeEventListener"===e){for(var o=!1,a=0;a<__gpp.events.length;a++)if(__gpp.events[a].id==r){__gpp.events.splice(a,1),o=!0;break}n({eventName:"listenerRemoved",listenerId:r,data:o,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else"hasSection"===e?n(!1,!0):"getSection"===e||"getField"===e?n(null,!0):__gpp.queue.push([].slice.apply(t))},window.__gpp_msghandler=function(t){var e="string"==typeof t.data;try{var n=e?JSON.parse(t.data):t.data}catch(t){n=null}if("object"==typeof n&&null!==n&&"__gppCall"in n){var r=n.__gppCall;window.__gpp(r.command,(function(n,i){var o={__gppReturn:{returnValue:n,success:i,callId:r.callId}};t.source.postMessage(e?JSON.stringify(o):o,"*")}),"parameter"in r?r.parameter:null,"version"in r?r.version:"1.1")}},"__gpp"in window&&"function"==typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))),await Promise.all([i.e(404),i.e(478)]).then(i.bind(i,478)).then((t=>{const{CmpApi:e}=t;w=!0,v=new e(213,1),v.setCmpDisplayStatus("visible"),v.setCmpStatus("LOADED")})))}function _(t){return{usnat:7,usca:8,usva:9,usco:10,usut:11,usct:12,usfl:13,usmt:14,usor:15,ustx:16,usde:17,usia:18,usne:19,usnh:20,usnj:21,ustn:22}[t]}var S=i(590);const E={};function A(){let t=document.cookie.split(/; */);for(let e=0,n=t.length;e<n;e++)I(t[e].split("=")[0])}function I(t){[window.location.hostname,"."+window.location.hostname].forEach((e=>{document.cookie=`${t}=; Path=/; Domain=${e}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`}))}function O(t,n,r){if("object"!=typeof t||!t)return!1;try{if(!t.id)return!1;if(E[t.id])return!1;if("string"!=typeof t.content||!t.content)return!1;if("string"!=typeof t.content_signature||!t.content)return!1;let i=e.w8(t.content,n.secret);if("nosign"!==t.content_signature&&i!==t.content_signature)return!1;let o=`clym-tag-${t.id}`;if(document.getElementById(o)){if(!t.forceInject)return!1;document.getElementById(o).remove()}if(!r)return!1;let a=document.createElement("div");a.id=o,a.setAttribute("data-managed-by","clym");let s=t.content;if("JS"===t.type&&-1===s.indexOf("<script")&&(s=`<script type='text/javascript'>${s}<\/script>`),"Google Tag Manager"===t.name){a=document.createElement("script"),s=s.replace(/<!--(.*?)-->/g,""),s=s.replace(/<script>/,""),s=s.replace(/<\/script>/,""),s=s.replace(/<noscript\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/noscript>/gi,""),a.text=s;let t=r.parentNode;for(;t.parentNode;){if("BODY"===t.parentNode.nodeName){t.parentNode.appendChild(a);break}t=t.parentNode}N(a.parentNode,n.nonce)}else r.parentNode.appendChild(a),a.innerHTML=s,N(a,n.nonce),x(a);f._triggerEvent(f.EVENT.TAG_CREATED,{id:t.id,name:t.name,type:t.type,element:a})}catch(t){return e.OP(` could not inject tag: ${t.message}`,t),!1}}function N(t,e){if(!e)return;const n=t.getElementsByTagName("script");for(const t of n)try{t.setAttribute("nonce",e),t.nonce=e}catch(t){}}function x(t){if(!0===function(t){return"SCRIPT"===t.tagName}(t))t.parentNode.replaceChild(function(t){let e=document.createElement("script");e.text=t.innerHTML;for(let n=t.attributes.length-1;n>=0;n--)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}(t),t);else{let e=0,n=t.childNodes;for(;e<n.length;)x(n[e++])}return t}async function j(t,o){let a={};o.on("storage.startSync",(t=>r.u2())),o.on("storage.stopSync",(()=>r.qf())),o.on("storage.sync",(()=>r.OH())),o.on("storage.clear",(t=>r.IU(t.all))),o.on("storage.remove",(t=>r.TF(t.key))),o.on("storage.exists",(t=>r.t2(t.key))),o.on("storage.read",(t=>r.LF(t.key))),o.on("storage.save",(t=>r.UN(t.key,t.data))),o.on("widget.position.change",(async e=>{let n="left"===e.position?"right":"left";o.WidgetPosition=e.position;let r=t.parentElement;r||(r=document.querySelector(`#clym-widget-${o.type}-frame`)),r&&(r.style[n]=t.style[n]="initial",r.style[n]=t.style[n]="initial",r.style[e.position]=t.style[e.position]="0px",r.style[e.position]=t.style[e.position]="0px")})),o.on("widget.sid.clear",(()=>S.H())),o.on("widget.sid.set",(t=>S.H(t))),o.on("widget.reload",(t=>{t&&t.clear_cookies&&A(),t&&"string"==typeof t.url&&t.url?window.location=t.url:window.location.reload()})),"bridge"===o.type&&(o.on("widget.launch.notice",(()=>{Promise.all([i.e(537),i.e(284),i.e(181)]).then(i.bind(i,181)).then((t=>{t.launch(o)}))})),o.on("widget.launch.button",(()=>{Promise.all([i.e(537),i.e(284),i.e(709)]).then(i.bind(i,709)).then((t=>{t.launch(o)}))})),o.on("widget.launch.blocker",(t=>{Promise.all([i.e(537),i.e(881)]).then(i.bind(i,881)).then((e=>{e.launch(o,t)}))})),o.on("widget.launch.full",(()=>{Clym.showWidget("",{bridge:!1})}))),t&&o.on("widget.set.styles.v2",(n=>{n.position&&(o.WidgetPosition=n.position),requestAnimationFrame((()=>{!async function(n={}){let r=n?.position;delete n.position,"right"===r?n.left="auto":"left"===r&&(n.right="auto");let i=(0,e.KM)(t);i={...i,...n||{}};for(const t in i){let e=i[t];"number"==typeof e&&0!==e&&(e+="px"),"100vh"===e&&(e="100dvh"),"100vw"===e&&(e="100dvw"),"timer"!==t&&(i[t]=e)}p(i)}(n);const r=t.getBoundingClientRect(),i={x:r.x,y:r.y-r.top,width:r.width,height:r.height};i.top=n.top,i.bottom=n.bottom,"100vw"===n.width&&(i.full_width=!0),"100vh"===n.height&&(i.full_height=!0),a=i;let o=l(a);"top"in n?o.top=n.top:delete o.top,"bottom"in n?o.bottom=n.bottom:delete o.bottom,!1===n.timer&&(o.timer=!1),u(o)}))})),o.on("widget.tag",(e=>{"object"==typeof e&&e&&O(e,o,t)})),o.on("widget.cookies.clear",(()=>{A()})),o.on("widget.consent.change",(t=>{f._triggerEvent(f.EVENT.CONSENT_CHANGE,t)})),o.on("widget.ready",(()=>{f._triggerEvent(f.EVENT.READY)})),o.on("accessibility.trigger",(t=>{f.a11y.change(t)})),o.on("accessibility.syncState",(()=>{f.a11y.sync()})),o.on("accessibility.init",(t=>{f.a11y.init(t)})),o.on("accessibility.sendData",(e=>{f.a11y.data(e,t)})),o.on("accessibility.getPageStructureData",(()=>{f._a11yStructure()})),o.on("accessibility.pageStructureAction",(t=>{f._a11yAction(t)})),o.on("accessibility.reset",(()=>{r.Fn()})),o.on("gpc.getSignal",(()=>(o.send("gpc.sendSignal",window.navigator.globalPrivacyControl),window.navigator.globalPrivacyControl)));let s=!0;async function c(){const n=function(){let e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0];const o={width:e.innerWidth||r.clientWidth||i.clientWidth,height:e.innerHeight||r.clientHeight||i.clientHeight};if(t)try{const e=t.getBoundingClientRect();o.frame_width=e.width,o.frame_height=e.height}catch(r){}return o}();u(l(a));try{await o.send("widget.size",n)}catch(t){if("method_not_found"===t)return;e.OP(`could not send parent size: ${t.message}`)}}async function u(n){if("number"!=typeof n.width||"number"!=typeof n.height||"number"!=typeof n.x||"number"!=typeof n.y)return void p(e.BY({},{"min-width:":"0px !important","min-height":"0px !important"}));if(n.width<3||n.height<3)return void p(e.BY({},{"min-width:":"0px !important","min-height":"0px !important"}));let r,i=e._b(),a=t.parentElement||document.getElementById(`clym-widget-${o.type}-frame`);if(i.width<437&&n.height>=90){n.x=0,n.y=0,r=!0;try{a.classList.contains("clym-widget-mobile")?r=void 0:(r=!0,a.classList.add("clym-widget-mobile"))}catch(t){}}else{r=!1;try{a.classList.contains("clym-widget-mobile")?a.classList.remove("clym-widget-mobile"):r=void 0}catch(t){}}"boolean"==typeof r&&o.send("widget.mobile",{is_mobile:r});let s=`${n.width}px !important`,c=`${n.height}px !important`,u=`${n.x||0}px !important`,l=`${n.y||0}px !important`,f={position:"fixed !important",width:s,height:c,bottom:l};if(n.full_width&&(f.width="100vw"),n.full_height&&(f.height="100vh"),!1===n.timer&&(f.timer=!1),void 0!==n.top?(delete f.bottom,f.top=l,a.style.bottom="initial",a.style.top="0px"):(a.style.bottom="0px",a.style.top="initial"),n.width<=90)try{a.classList.remove("clym-widget-open")}catch(t){}else try{a.classList.add("clym-widget-open")}catch(t){}if(n.width>=i.width)try{a.classList.add("clym-widget-fullscreen")}catch(t){}else try{a.classList.remove("clym-widget-fullscreen")}catch(t){}"left"===o.WidgetPosition?(f.right="auto",f.left=u):(f.left="auto",f.right=0),p(Object.assign({},e.BY(),f))}function l(t){let e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],o={};const a={x:0,y:0,width:e.innerWidth||r.clientWidth||i.clientWidth,height:e.innerHeight||r.clientHeight||i.clientHeight};return o.x=a.width<t.width?0:t.x,o.y=a.height<t.height?0:t.y,"100%"===t.width?o.width=a.width:o.width=a.width<t.width?a.width:t.width,"100%"===t.height?o.height=a.height:o.height=a.height<t.height?a.height:t.height,t.forceXY&&(o.forceXY=t.forceXY),"top"in t&&(o.top=t.top),"bottom"in t&&(o.bottom=t.bottom),t.full_width&&(o.full_width=!0),t.full_height&&(o.full_height=!0),o}o.on("widget.scroll",(t=>{if("object"!=typeof t||!t||"boolean"!=typeof t.active)return;let n=t.active;if(s===n)return;s=n;let r=document.getElementsByTagName("body")[0];if(!r)return;let i=e.KM(r);n?delete i.overflow:i.overflow="hidden !important";let o=e.$f(i);try{r.setAttribute("style",o)}catch(t){}try{r.style=o}catch(t){}})),o.on("tcf.update",(t=>{var e,n;e=t.data,n=t.showUI||!1,g&&g.update(e,n||!0)})),o.on("gpp.setFieldValue",(t=>{!async function(t,e,n){await b(),v&&(v.setFieldValue(t,e,n),v.setApplicableSections([_(t)]),v.setFieldValue(t,"Gpc",!!window.navigator.globalPrivacyControl),v.fireSectionChange(t))}(t.section,t.field,t.value)})),o.on("gpp.setGppString",(t=>{!async function(t){await b(),v&&(v.setCmpDisplayStatus("hidden"),v.setGppString(t),v.fireSectionChange("usnat"),v.setSignalStatus("ready"))}(t.encodedGppString)})),o.on("gpp.ready",(()=>async function(){if(await b(),v)return v.setCmpDisplayStatus("hidden"),v.setCmpStatus("LOADED"),v.setSignalStatus("ready"),v.getGppString()}())),o.on("gpp.loaded",(()=>async function(){await b()}())),o.on("gpp.disable",(()=>async function(){await b(),v&&(v.setApplicableSections([-1]),v.setSignalStatus("ready"))}())),o.on("iframe.remove",(t=>{o.iframe&&o.iframe.remove()})),o.on("request.widget.data",(t=>window.Clym.getWidgetData())),o.on("chat.inject",(async t=>{window._clymInit||(window._clymInit=[]),window._clymInit.find((e=>e[2]?.chat_service_id===t.opt.chat_service_id))||(window._clymInit.push(["clym-chat",t.id,t.opt]),window.Clym.load("clym-chat",t.id,t.opt))})),window.Clym.customEventListenerLoaded||"widget"!==o.type&&"bridge"!==o.type||(window.Clym.customEventListenerLoaded=!0,window.addEventListener("message",(t=>{const e=[n.uK];if(n.Kn&&e.push(n.Kn),!e.includes(t.origin))return;let r;if("object"==typeof t.data&&t.data)r=t.data;else if("string"==typeof t.data)try{r=JSON.parse(t.data)}catch(t){}if(r&&r&&"embedded.inject"===r.type){const t=document.getElementsByTagName("iframe");for(const e of t)if(e.src===r.payload.currentURL){const t=e.cloneNode();t.src=r.payload.frame.url,e.parentNode.insertBefore(t,e),e.remove()}}}))),t&&"bridge"!==o.type&&(window.addEventListener("resize",c),c());var d="",h=null;function p(n={}){let r=!1!==n.timer,i=e.$f(n);d!==i&&(h&&clearTimeout(h),d=i,r?(t.setAttribute("style",i+"; visibility: hidden"),h=setTimeout((()=>{t.setAttribute("style",i+"; visibility: visible")}),90)):t.setAttribute("style",i))}}const k=2147483646,C=2147483645;let R,T,B=[],P=!1;async function D(n,i={}){let o="widget";i?.assistant_id&&"assistant"===i?.page&&(o="assistant"),"chat"===i.page&&(o="chat");for(let t=0;t<B.length;t++)if(B[t].type===o)return B[t].iframe;const a=(0,t.Ay)(o);"string"==typeof i.nonce&&i.nonce&&(a.nonce=i.nonce);let s={id:n.split("-")[0],channel:a.id,origin:window.location.host};i.page&&(s.page=i.page),"assistant"===i.page&&i.assistant_id&&(s.assistant_id=i.assistant_id),"chat"===i.page&&i.chat_service_id&&(s.chat_service_id=i.chat_service_id),i.native&&(P=!0,s.native=!0,s.custom_notice_type=!0),M(s,i);let c=await U("",s);r.oY(s.id);let u=await async function(t,n={},r){(n=n||{}).position=n.position||"left",r.WidgetPosition=n.position;let i="clym-widget-privacy-frame";n.assistant_id?i="clym-widget-assistant-frame":"chat"===n.page&&(i="clym-widget-chat-frame");let o=document.getElementById(i);if(o){if(n.page)return!1;throw new Error("Widget plugin loaded multiple times")}o=document.createElement("div"),o.className="clym-widget",o.id=i;let a={left:{position:"fixed","z-index":"chat"===n.page||P?C:k,left:"0",bottom:"0","color-scheme":"light"},right:{position:"fixed","z-index":"chat"===n.page||P?C:k,right:"0",bottom:"0","color-scheme":"light"}},s=e.$f(a[n.position]);o.setAttribute("style",s),o.style=s;let c=document.getElementsByTagName("body")[0];if(!c)for(let t=0;t<=50&&(c=document.getElementsByTagName("body")[0],!c);t++)await new Promise((t=>setTimeout(t,20)));c.firstChild?c.insertBefore(o,c.lastChild):c.appendChild(o);let u=document.createElement("iframe"),l={src:t,name:"clym-frame-"+r.id,frameborder:0,marginheight:0,allowtransparency:"true",marginwidth:0,allow:"clipboard-write",scrolling:"no",title:"widget"===r.type?"Privacy Widget":"chat"===r.type?"Chat Widget":"Assistant Widget"},f=e.$f(e.BY());Object.keys(l).forEach((t=>{u.setAttribute(t,l[t])})),"right"===n.position&&(u.setAttribute("right","0px"),u.setAttribute("left","initial")),u.setAttribute("style",f),u.style=f;try{u.classList.add("clym-widget-iframe")}catch(t){}return o.appendChild(u),u}(c,i,a);if(!u)return!1;await a.connect(u),j(u,a);try{!function(){let e=document.location.href;const n=()=>{(0,t.tN)("widget.url.change",{url:window.location.href}).catch((function(){}))};n(),setInterval((()=>{try{e!==document.location.href&&(e=document.location.href,n())}catch(t){}}),500)}()}catch(t){}return!1!==i.cmp&&m(),!0===i.gpp&&b(),B.push({type:o,iframe:u}),new Promise((t=>{a.listen((()=>{t(u)}))}))}async function L(e,n={}){const i=(0,t.Ay)("bridge");let o={id:e.split("-")[0],channel:i.id,origin:window.location.host};M(o,n);let a=await U("api-bridge",o);r.oY(o.id);let s=await async function(t){let e="clym-widget-bridge-frame";if(document.getElementById(e))throw new Error("Widget bridge loaded multiple times");let n=document.getElementsByTagName("body")[0]||document.body||document.head;if(!n)for(let t=0;t<=50&&(n=document.getElementsByTagName("body")[0],!n);t++)await new Promise((t=>setTimeout(t,20)));let r=document.createElement("iframe"),i={src:t,id:e,name:"__clymLocator",title:"Clym bridge",frameborder:0,marginheight:0,allowtransparency:"true",marginwidth:0,allow:"clipboard-write",scrolling:"no",style:"width: 0; height: 0;"};return Object.keys(i).forEach((t=>{r.setAttribute(t,i[t])})),n.appendChild(r),r}(a);if(!s)return!1;if(document.head){const t=document.createElement("link");t.setAttribute("rel","preconnect"),t.setAttribute("href","https://widget.clym-sdk.net"),document.head.appendChild(t)}return await i.connect(s),j(s,i),!1!==n.cmp&&m(),!0===n.gpp&&b(),B.push({type:"bridge",iframe:s}),new Promise((e=>{i.on("bridge.ready",(async()=>{f.bridge=!0;try{let e=await r.ug.getItem("state");if(e){const n=await(0,t.yS)("store","syncA11yState",e);f._a11yInit(n)}}catch(t){}e(s)})),i.listen()}))}function M(t,e){e.customNoticeType&&(t.custom_notice_type=!0),!0===e.accessibilityOnly&&(t.accessibility_only=!0),e.instance&&(t.instance=e.instance),"string"==typeof e.country&&e.country.length<=3&&(t.country=e.country.toUpperCase()),"string"==typeof e.state&&e.state.length<=5&&(t.state=e.state),e.apiVersion>0&&(t._api=e.apiVersion),e.widgetVersion&&(t.widgetVersion=e.widgetVersion)}async function U(t="",e={}){t&&!t.endsWith("/")&&(t+="/");let r,i=!1,o="";if("string"==typeof e.instance&&e.instance)i=!0,r=`https://privacy-api-${e.instance}`;else if(n.yq)r=n.yq;else if(e.id){const t=await async function(t){return T||R||(R=new Promise((async e=>{try{const r=`${n.w6}/api/query/domain?`+new URLSearchParams({id:t,slim:!0,_version:n.xv,_build:n.Bv}),i=await fetch(r),o=await i.json();T=o?.result||null,e(T)}catch(t){console.warn("Clym: Error occurred calling Partner API"),console.warn(t),e(null)}R=null})),R)}(e.id);t&&t.instance?.hostname&&(r=`https://privacy-api-${t.instance.hostname}`)}let a=n.uK;o=n.xv===["CLYM","VERSION","LATEST"].join("_")||"latest"===n.xv?"latest/":`${n.xv}/`,"string"==typeof e.widgetVersion&&e.widgetVersion&&(o=`v${e.widgetVersion}/`,delete e.widgetVersion),i&&n.Kn&&(a=n.Kn);let s=new URLSearchParams;r&&s.set("api",btoa(r)),"production"!==n.Km&&s.set("r",Math.random().toString().substr(-5)),i&&s.set("is_dedicated","true"),Object.keys(e).forEach((t=>{s.set(t,e[t])})),s=s.toString();let c=`${a}/${o}${t}`;return s&&(c+=`?${s}`),c}const F=["privacy","assistant","chat"],$=["document"],W={};if(document.currentScript&&document.currentScript.src){let t=new URL(document.currentScript.src).origin;i.p=`${t}/${n.xv}/`}function q(t,n){if(window[t]instanceof Array)try{window[t].forEach((t=>{n(t[0],t[1],t[2],t[3],t[4])}))}catch(t){}window[t]=[],window[t].push=function(r){if(!(r instanceof Array))return(0,e.OP)(`${t}.push() argument not an array`),!1;n(r[0],r[1],r[2])}}function z(t,n={}){n.instance&&void 0===n.native&&(n.native=!0),"us6.clym.io"===n.instance&&void 0===n.cmp&&(n.cmp=!1);let r=f._triggerLoad,i=D;if(n.native){i=L;let e=W.showWidget,r=!1;W.showWidget=(i="",o={})=>(!1===o.bridge&&(n.bridge=n.native=!1),r?e(i,o):new Promise((a=>{f.on(f.EVENT.READY,(()=>{if(!r){if(r=!0,!1===o.bridge&&!i)return a();e(i,o).then(a)}})),i&&(n.page=i),D(t,n).then((t=>{if(t&&!r){if(r=!0,!1===o.bridge&&!i)return a();e(i,o).then(a)}}))})))}i(t,n).then((t=>{t&&(f.loaded=W.loaded=!0,r(W))})).catch(e.OP)}function V(t,n={}){let r=f._triggerLoad;if(!n?.assistant_id)return!1;D(t,{...n,page:"assistant"}).then((t=>{t&&(f.loaded=W.loaded=!0,r(W))})).catch(e.OP)}function J(t,n={}){let r=f._triggerLoad;n.page||(n.page="chat"),n.position||(n.position="right"),D(t,{...n,page:"chat"}).then((t=>{t&&(f.loaded=W.loaded=!0,r(W))})).catch(e.OP)}Object.keys(f).forEach((t=>{"_"!==t.charAt(0)&&(W[t]=f[t])})),W.load=function(t,r,i){if("ready"===t&&"function"==typeof r)return void f.ready((()=>{r(W)}));if("string"!=typeof t||!t)return(0,e.OP)(`Widget type is required for ${n.yl}.load()`),!1;if(t.startsWith(`${n.yl}-`)&&(t=t.substr(n.yl.length+1)),f.id=r,-1===F.indexOf(t))return(0,e.OP)(`widget type ${t} is not available`),!1;if("string"!=typeof r||!r)return(0,e.OP)("widget id is required for Clym.load()"),!1;"object"==typeof i&&i||(i={});try{let t=new URLSearchParams(location.search);if(t.has("clym-api")){let e=parseInt(t.get("clym-api"));!isNaN(e)&&e>0&&(i.apiVersion=e)}if(t.has("clym-open-widget")||t.has("clym-widget-open")){let e=t.get("clym-open-widget")||t.get("clym-widget-open");f.ready((()=>{W.showWidget(e)}))}t.has("clym-widget-version")&&(i.widgetVersion=t.get("clym-widget-version")),t.has("clym-native")&&(i.native="true"===t.get("clym-native")||"1"===t.get("clym-native")||!1)}catch(t){}let o;return"privacy"===t?o=z:"assistant"===t?o=V:"chat"===t&&(o=J),!!o&&(o(r,i),!0)},W.render=function(t,r,i,o){if("string"!=typeof t||!t)return(0,e.OP)(`widget type is required for ${n.yl}.load()`),!1;if(1===$.indexOf(t))return(0,e.OP)(`rendering type ${t} is not available`),!1;if("string"!=typeof r||!r||-1===r.indexOf("://"))return(0,e.OP)("document rendering url is required"),!1;if("string"!=typeof i||!i)return(0,e.OP)("document render element is required"),!1;const a=document.getElementById(i);return a?("object"==typeof o&&o||(o={}),o.silent=!0,"document"===t&&f.renderDocument(a,r,o)):((0,e.OP)(`document render element ${i} is not available`),!1)},q("_clymInit",W.load),q("_clymRender",W.render),window.Clym=W})()})();