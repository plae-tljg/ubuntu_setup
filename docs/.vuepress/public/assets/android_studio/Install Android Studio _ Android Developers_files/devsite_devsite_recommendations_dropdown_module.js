(function(_ds){var window=this;var mxa=function(a){a=a.recommendations;const b=_ds.V(_ds.FM(),'<button type="button" class="devsite-recommendations-dropdown-toggle" id="devsite-recommendations-dropdown-toggle" aria-haspopup="true" aria-controls="recommendations-dropdown-popup"><span>');_ds.X(b,"Recommended");_ds.V(b,'</span><span class="devsite-icon devsite-recommendations-dropdown-icon"></span></button><ul class="devsite-recommendations-dropdown-list devsite-select-list" role="listbox">');const c=a.length;for(let d=0;d<c;d++)_ds.X(b,
lxa(a[d]));_ds.V(b,"</ul>");return b},lxa=function(a){let b='<li role="option" class="devsite-select-item"><h3 class="significatio-card-heading no-link"><a href="'+_ds.U(_ds.yM(a.getUrl()))+"?"+_ds.tM(_ds.z(a,8))+'" data-category="Site-Wide Custom Events" data-label="devsite-recommendation card link" data-action="click">';const c=[a.getTitle(),_ds.z(a,3),_ds.z(a,4)];b+=_ds.kM(c.filter(d=>d.length>0)[0])+'</a></h3><p class="significatio-card-description">'+_ds.kM(_ds.mM(_ds.z(a,5)))+'</p><div class="significatio-card-meta">Updated <span class="significatio-date" date="'+
_ds.U(_ds.x(a,_ds.Ls,7).getSeconds())+'"></span></div></li>';return(0,_ds.R)(b)};var k7=function(a){let b;(b=a.toggle)==null||b.classList.remove("active");let c;(c=a.j)==null||c.classList.remove("active")},nxa=function(a){a.toggle&&a.eventHandler.listen(a.toggle,"click",()=>{var b;if((b=a.toggle)==null?0:b.classList.contains("active"))k7(a);else{let d;(d=a.toggle)==null||d.classList.add("active");let e;(e=a.j)==null||e.classList.add("active");if(!a.o){a.o=!0;var c;if(b=(c=a.response)==null?void 0:_ds.DZ(c)){for(const f of b)if(c=f.getMetadata())c={targetPage:f.getUrl(),targetType:_ds.nj(c,
3),targetRank:_ds.ij(c,2),targetIdenticalDescriptions:_ds.ij(c,4),targetTitleWords:_ds.ij(c,5),targetDescriptionWords:_ds.ij(c,6),experiment:_ds.z(c,7)},b={category:"Site-Wide Custom Events",action:"recommended",label:f.getUrl(),nonInteraction:!0,additionalParams:{recommendations:c}},a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,bubbles:!0})),a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",{detail:{type:"recommendations",name:"impression",metadata:c},
bubbles:!0}));a.m.resolve()}else a.m.reject("empty")}}});a.eventHandler.listen(document,"click",b=>{let c;!a.contains(b.target)&&((c=a.toggle)==null?0:c.classList.contains("active"))&&k7(a)})},oxa=class extends _ds.nl{constructor(a){super();this.timeZone=a;this.eventHandler=new _ds.C(this);this.toggle=this.j=null;this.m=new _ds.Vg;this.o=!1;this.response=null}connectedCallback(){this.eventHandler.listen(document,"devsite-on-recommendations",a=>{a=a.getBrowserEvent();!this.response&&a&&a.detail&&(0,_ds.FZ)(a.detail)&&
_ds.nj(a.detail,5)===2&&(a=a.detail,this.render(a),this.j=this.querySelector(".devsite-recommendations-dropdown-list"),this.toggle=this.querySelector(".devsite-recommendations-dropdown-toggle"),nxa(this),this.response=a)})}disconnectedCallback(){_ds.D(this.eventHandler)}render(a){if(this.isConnected){_ds.kt(this,mxa,{recommendations:_ds.DZ(a)});a=Array.from(this.querySelectorAll(".significatio-date"));for(const b of a){a=b.getAttribute("date");try{b.textContent=(new Date(Number(a)*1E3)).toLocaleDateString("default",
{month:"short",year:"numeric",day:"numeric",timeZone:this.timeZone})}catch(c){}}}}};try{customElements.define("devsite-recommendations-dropdown",oxa)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteRecommendationsDropdown",a)};})(_ds_www);
