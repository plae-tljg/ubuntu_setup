define("discourse/plugins/discourse-user-notes/discourse/adapters/user-note",["exports","discourse/adapters/rest","discourse/lib/ajax"],function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class o extends s.default{destroyRecord(e,s,o){const r=this.pathFor(e,s,o.id)
return(0,t.ajax)(`${r}?user_id=${o.user_id}`,{method:"DELETE"})}}e.default=o}),define("discourse/plugins/discourse-user-notes/discourse/components/modal/user-notes",["exports","@glimmer/component","@glimmer/tracking","@ember/helper","@ember/object","@ember/service","discourse/components/cook-text","discourse/components/d-button","discourse/components/d-modal","discourse/components/form","discourse/components/user-link","discourse/helpers/age-with-tooltip","discourse/helpers/avatar","discourse/lib/ajax-error","discourse-i18n","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a,c,d,l,p,m,f,h,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class g extends s.default{static{dt7948.g(this.prototype,"dialog",[i.service])}#e=void dt7948.i(this,"dialog")
static{dt7948.g(this.prototype,"store",[i.service])}#s=void dt7948.i(this,"store")
static{dt7948.g(this.prototype,"userId",[t.tracked],function(){return this.args.model.userId})}#t=void dt7948.i(this,"userId")
postId=this.args.model.postId
callback=this.args.model.callback
#o(){this.callback&&this.callback(this.args.model.note.length)}registerApi(e){this.formApi=e}static{dt7948.n(this.prototype,"registerApi",[r.action])}async onSubmit(e){const s=this.store.createRecord("user-note"),t=parseInt(this.userId,10),o={raw:e.content,user_id:t}
this.postId&&(o.post_id=parseInt(this.postId,10))
try{await s.save(o),await this.formApi.set("content",""),this.args.model.note.insertAt(0,s),this.#o()}catch(r){(0,m.popupAjaxError)(r)}}static{dt7948.n(this.prototype,"onSubmit",[r.action])}removeNote(e){this.dialog.deleteConfirm({message:(0,f.i18n)("user_notes.delete_confirm"),didConfirm:()=>{e.destroyRecord().then(()=>{this.args.model.note.removeObject(e),this.#o()}).catch(m.popupAjaxError)}})}static{dt7948.n(this.prototype,"removeNote",[r.action])}static{(0,h.setComponentTemplate)((0,b.createTemplateFactory)({id:"moeu4tQF",block:'[[[1,"\\n    "],[8,[32,0],[[24,0,"user-notes-modal"]],[["@closeModal","@title"],[[30,1],[28,[32,1],["user_notes.title"],null]]],[["default"],[[[[1,"\\n      "],[8,[32,2],null,[["@onSubmit","@onRegisterApi"],[[30,0,["onSubmit"]],[30,0,["registerApi"]]]],[["default"],[[[[1,"\\n        "],[8,[30,2,["Field"]],null,[["@name","@title","@format","@validation"],["content",[28,[32,1],["user_notes.attach_note_description"],null],"full","required:trim"]],[["default"],[[[[1,"\\n          "],[8,[30,3,["Textarea"]],null,null,null],[1,"\\n        "]],[3]]]]],[1,"\\n\\n        "],[8,[30,2,["Actions"]],null,null,[["default"],[[[[1,"\\n          "],[8,[30,2,["Submit"]],[[24,0,"btn-primary"]],[["@label"],["user_notes.attach"]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[2]]]]],[1,"\\n\\n"],[42,[28,[31,1],[[28,[31,1],[[30,4,["note"]]],null]],null],null,[[[1,"        "],[10,0],[14,0,"user-note"],[12],[1,"\\n          "],[10,0],[14,0,"posted-by"],[12],[1,"\\n            "],[8,[32,3],null,[["@user"],[[30,5,["created_by"]]]],[["default"],[[[[1,"\\n              "],[1,[28,[32,4],[[30,5,["created_by"]]],[["imageSize"],["small"]]]],[1,"\\n            "]],[]]]]],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"note-contents"],[12],[1,"\\n            "],[10,0],[14,0,"note-info"],[12],[1,"\\n              "],[10,1],[14,0,"username"],[12],[1,[30,5,["created_by","username"]]],[13],[1,"\\n              "],[10,1],[14,0,"post-date"],[12],[1,[28,[32,5],[[30,5,["created_at"]]],null]],[13],[1,"\\n\\n"],[41,[30,5,["can_delete"]],[[[1,"                "],[10,1],[14,0,"controls"],[12],[1,"\\n                  "],[8,[32,6],[[24,0,"btn-small btn-danger"]],[["@action","@icon","@title"],[[28,[32,7],[[30,0,["removeNote"]],[30,5]],null],"far-trash-can","user_notes.remove"]],null],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"cooked"],[12],[1,"\\n              "],[8,[32,8],null,[["@rawText"],[[30,5,["raw"]]]],null],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,5,["post_id"]],[[[1,"              "],[10,3],[15,6,[30,5,["post_url"]]],[14,0,"btn btn-small"],[12],[1,"\\n                "],[1,[28,[32,1],["user_notes.show_post"],null]],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"          "],[13],[1,"\\n\\n          "],[10,0],[14,0,"clearfix"],[12],[13],[1,"\\n        "],[13],[1,"\\n"]],[5]],null],[1,"    "]],[]]]]],[1,"\\n  "]],["@closeModal","form","field","@model","n"],false,["each","-track-array","if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/components/modal/user-notes.js",scope:()=>[a.default,f.i18n,c.default,d.default,p.default,l.default,u.default,o.fn,n.default],isStrictMode:!0}),this)}}e.default=g}),define("discourse/plugins/discourse-user-notes/discourse/components/post-metadata-user-notes",["exports","@glimmer/component","@ember/modifier","@ember/object","@ember/service","discourse/helpers/d-icon","discourse/helpers/emoji","discourse/plugins/discourse-user-notes/discourse/lib/user-notes","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class d extends s.default{static{dt7948.g(this.prototype,"siteSettings",[r.service])}#r=void dt7948.i(this,"siteSettings")
static{dt7948.g(this.prototype,"store",[r.service])}#s=void dt7948.i(this,"store")
showNotes(){(0,u.showUserNotes)(this.store,this.args.post.user_id,e=>(0,u.updatePostUserNotesCount)(this.args.post,e),{postId:this.args.post.id})}static{dt7948.n(this.prototype,"showNotes",[o.action])}static{(0,a.setComponentTemplate)((0,c.createTemplateFactory)({id:"QVWip2qt",block:'[[[1,"\\n"],[1,"    "],[11,1],[24,0,"user-notes-icon"],[4,[32,0],["click",[30,0,["showNotes"]]],null],[12],[1,"\\n"],[41,[30,0,["siteSettings","enable_emoji"]],[[[1,"        "],[1,[28,[32,1],["memo"],null]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[32,2],["pen-to-square"],null]],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "]],[],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/components/post-metadata-user-notes.js",scope:()=>[t.on,n.default,i.default],isStrictMode:!0}),this)}}e.default=d}),define("discourse/plugins/discourse-user-notes/discourse/components/show-user-notes",["exports","@glimmer/component","discourse/components/d-button","discourse-i18n","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends s.default{get label(){return this.args.count>0?(0,o.i18n)("user_notes.show",{count:this.args.count}):(0,o.i18n)("user_notes.title")}static{(0,r.setComponentTemplate)((0,i.createTemplateFactory)({id:"leXVmJX6",block:'[[[1,"\\n    "],[8,[32,0],[[24,0,"btn-default show-user-notes-btn"]],[["@action","@icon","@translatedLabel"],[[30,1],"pen-to-square",[30,0,["label"]]]],null],[1,"\\n  "]],["@show"],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/components/show-user-notes.js",scope:()=>[t.default],isStrictMode:!0}),this)}}e.default=n}),define("discourse/plugins/discourse-user-notes/discourse/connectors/admin-dashboard-moderation-bottom/recent-user-notes-report-table",["exports","@glimmer/component","@ember/service","admin/components/admin-report","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends s.default{static{dt7948.g(this.prototype,"siteSettings",[t.service])}#r=void dt7948.i(this,"siteSettings")
static{(0,r.setComponentTemplate)((0,i.createTemplateFactory)({id:"o5W9wHg5",block:'[[[1,"\\n    "],[10,0],[14,0,"admin-dashboard-moderation-bottom-outlet recent-user-notes-report-table"],[12],[1,"\\n"],[41,[30,0,["siteSettings","user_notes_enabled"]],[[[1,"        "],[8,[32,0],null,[["@dataSourceName","@filters"],["user_notes",[30,1]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["@filters"],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/connectors/admin-dashboard-moderation-bottom/recent-user-notes-report-table.js",scope:()=>[o.default],isStrictMode:!0}),this)}}e.default=n}),define("discourse/plugins/discourse-user-notes/discourse/connectors/admin-user-controls-after/add-user-notes-button",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/plugins/discourse-user-notes/discourse/components/show-user-notes","discourse/plugins/discourse-user-notes/discourse/lib/user-notes","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class c extends s.default{static shouldRender(e,{siteSettings:s,currentUser:t}){return s.user_notes_enabled&&t?.staff}static{dt7948.g(this.prototype,"store",[r.service])}#s=void dt7948.i(this,"store")
static{dt7948.g(this.prototype,"userNotesCount",[t.tracked],function(){return this.args.model.user_notes_count||this.args.model.custom_fields?.user_notes_count||0})}#i=void dt7948.i(this,"userNotesCount")
showUserNotes(){(0,n.showUserNotes)(this.store,this.args.model.id,e=>this.userNotesCount=e)}static{dt7948.n(this.prototype,"showUserNotes",[o.action])}static{(0,u.setComponentTemplate)((0,a.createTemplateFactory)({id:"uK/6ZtEs",block:'[[[1,"\\n    "],[8,[32,0],null,[["@show","@count"],[[30,0,["showUserNotes"]],[30,0,["userNotesCount"]]]],null],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/connectors/admin-user-controls-after/add-user-notes-button.js",scope:()=>[i.default],isStrictMode:!0}),this)}}e.default=c}),define("discourse/plugins/discourse-user-notes/discourse/connectors/after-reviewable-post-user/show-user-notes-on-flags",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/components/d-button","discourse/helpers/d-icon","discourse/lib/text","discourse-i18n","discourse/plugins/discourse-user-notes/discourse/lib/user-notes","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a,c,d,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=(0,u.emojiUrlFor)("memo")
class m extends s.default{static shouldRender(e,{siteSettings:s}){return s.user_notes_enabled&&e.user}static{dt7948.g(this.prototype,"store",[r.service])}#s=void dt7948.i(this,"store")
static{dt7948.g(this.prototype,"siteSettings",[r.service])}#r=void dt7948.i(this,"siteSettings")
static{dt7948.g(this.prototype,"userNotesCount",[t.tracked],function(){return this.args.user.get("custom_fields.user_notes_count")||0})}#i=void dt7948.i(this,"userNotesCount")
showUserNotes(){(0,c.showUserNotes)(this.store,this.args.user.id,e=>this.userNotesCount=e)}static{dt7948.n(this.prototype,"showUserNotes",[o.action])}static{(0,d.setComponentTemplate)((0,l.createTemplateFactory)({id:"sXbYPjpD",block:'[[[1,"\\n    "],[10,0],[14,0,"after-reviewable-post-user-outlet show-user-notes-on-flags"],[12],[1,"\\n"],[41,[30,0,["userNotesCount"]],[[[1,"        "],[8,[32,0],[[24,0,"btn-flat"]],[["@translatedTitle","@action"],[[28,[32,1],["user_notes.show"],[["count"],[[30,0,["userNotesCount"]]]]],[30,0,["showUserNotes"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["siteSettings","enable_emoji"]],[[[1,"            "],[10,"img"],[15,"src",[32,2]],[15,"title",[28,[32,1],["user_notes.show"],[["count"],[[30,0,["userNotesCount"]]]]]],[14,"alt",""],[14,0,"emoji"],[12],[13],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[32,3],["pen-to-square"],null]],[1,"\\n"]],[]]],[1,"        "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],[],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/connectors/after-reviewable-post-user/show-user-notes-on-flags.js",scope:()=>[i.default,a.i18n,p,n.default],isStrictMode:!0}),this)}}e.default=m}),define("discourse/plugins/discourse-user-notes/discourse/connectors/reviewable-note-form-after-note/copy-reviewable-note-to-user-option",["exports","@glimmer/component","discourse-i18n","@ember/component","@ember/template-factory"],function(e,s,t,o,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends s.default{static shouldRender(e,{siteSettings:s,currentUser:t}){return s.user_notes_enabled&&t?.staff}static{(0,o.setComponentTemplate)((0,r.createTemplateFactory)({id:"3bJmm7Jk",block:'[[[1,"\\n    "],[8,[30,1,["CheckboxGroup"]],null,null,[["default"],[[[[1,"\\n      "],[8,[30,2,["Field"]],null,[["@name","@title","@format"],["copy_note_to_user",[28,[32,0],["user_notes.copy_reviewable_note"],null],"full"]],[["default"],[[[[1,"\\n        "],[8,[30,3,["Checkbox"]],null,null,null],[1,"\\n      "]],[3]]]]],[1,"\\n    "]],[2]]]]],[1,"\\n  "]],["@form","group","field"],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/connectors/reviewable-note-form-after-note/copy-reviewable-note-to-user-option.js",scope:()=>[t.i18n],isStrictMode:!0}),this)}}e.default=i}),define("discourse/plugins/discourse-user-notes/discourse/connectors/user-card-post-names/show-user-notes-on-card",["exports","@glimmer/component","@ember/object","@ember/service","discourse/components/d-button","discourse/helpers/d-icon","discourse/helpers/emoji","discourse-i18n","discourse/plugins/discourse-user-notes/discourse/lib/user-notes","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a,c,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class l extends s.default{static shouldRender(e,{siteSettings:s,currentUser:t}){return s.user_notes_enabled&&t?.staff}static{dt7948.g(this.prototype,"siteSettings",[o.service])}#r=void dt7948.i(this,"siteSettings")
static{dt7948.g(this.prototype,"store",[o.service])}#s=void dt7948.i(this,"store")
get userNotesCount(){return parseInt(this.args.user.get("user_notes_count")||this.args.user.get("custom_fields.user_notes_count")||0,10)}showUserNotes(){(0,a.showUserNotes)(this.store,this.args.user.id)}static{dt7948.n(this.prototype,"showUserNotes",[t.action])}static{(0,c.setComponentTemplate)((0,d.createTemplateFactory)({id:"VuBSwW3k",block:'[[[1,"\\n    "],[10,0],[14,0,"show-user-notes-on-card"],[12],[1,"\\n"],[41,[30,0,["userNotesCount"]],[[[1,"        "],[8,[32,0],[[24,0,"btn-flat"]],[["@translatedTitle","@action"],[[28,[32,1],["user_notes.show"],[["count"],[[30,0,["userNotesCount"]]]]],[30,0,["showUserNotes"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["siteSettings","enable_emoji"]],[[[1,"            "],[1,[28,[32,2],["memo"],null]],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[32,3],["pen-to-square"],null]],[1,"\\n"]],[]]],[1,"        "]],[]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],[],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/connectors/user-card-post-names/show-user-notes-on-card.js",scope:()=>[r.default,u.i18n,n.default,i.default],isStrictMode:!0}),this)}}e.default=l}),define("discourse/plugins/discourse-user-notes/discourse/connectors/user-profile-controls/show-notes-on-profile",["exports","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","discourse/plugins/discourse-user-notes/discourse/components/show-user-notes","discourse/plugins/discourse-user-notes/discourse/lib/user-notes","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class c extends s.default{static shouldRender(e,{siteSettings:s,currentUser:t}){return s.user_notes_enabled&&t?.staff}static{dt7948.g(this.prototype,"store",[r.service])}#s=void dt7948.i(this,"store")
static{dt7948.g(this.prototype,"userNotesCount",[t.tracked],function(){return this.args.model.user_notes_count||this.args.model.custom_fields?.user_notes_count||0})}#i=void dt7948.i(this,"userNotesCount")
showUserNotes(){(0,n.showUserNotes)(this.store,this.args.model.id,e=>this.userNotesCount=e)}static{dt7948.n(this.prototype,"showUserNotes",[o.action])}static{(0,u.setComponentTemplate)((0,a.createTemplateFactory)({id:"s3eUHzMa",block:'[[[1,"\\n    "],[10,"li"],[14,0,"user-profile-controls-outlet show-notes-on-profile"],[12],[1,"\\n      "],[8,[32,0],null,[["@show","@count"],[[30,0,["showUserNotes"]],[30,0,["userNotesCount"]]]],null],[1,"\\n    "],[13],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/connectors/user-profile-controls/show-notes-on-profile.js",scope:()=>[i.default],isStrictMode:!0}),this)}}e.default=c}),define("discourse/plugins/discourse-user-notes/discourse/initializers/enable-user-notes",["exports","@glimmer/component","discourse/lib/ajax","discourse/lib/ajax-error","discourse/lib/deprecated","discourse/lib/icon-library","discourse/lib/plugin-api","discourse/lib/transformer","discourse/plugins/discourse-user-notes/discourse/components/post-metadata-user-notes","discourse/plugins/discourse-user-notes/discourse/lib/user-notes","@ember/component","@ember/template-factory"],function(e,s,t,o,r,i,n,u,a,c,d,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"enable-user-notes",initialize(e){const p=e.lookup("service:site-settings"),m=e.lookup("service:current-user")
p.user_notes_enabled&&m?.staff&&(0,n.withPluginApi)(n=>{(function(e,t){const o=t.lookup("service:site-settings"),n=(0,u.applyValueTransformer)("user-notes-icon-placement",o.user_notes_icon_placement)
class p extends s.default{static shouldRender(e){return e.post?.user_custom_fields?.user_notes_count>0}static{(0,d.setComponentTemplate)((0,l.createTemplateFactory)({id:"ZQl4jQzc",block:'[[[8,[32,0],null,[["@post"],[[30,1]]],null]],["@post"],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-user-notes/discourse/initializers/enable-user-notes.js",scope:()=>[a.default],isStrictMode:!0}),this)}}if("avatar"===n)e.renderAfterWrapperOutlet("poster-avatar",p)
else if("name"===n){class s extends p{static shouldRender(e,s){return s.site.mobileView&&super.shouldRender(e)}}class t extends p{static shouldRender(e,s){return!s.site.mobileView&&super.shouldRender(e)}}e.renderBeforeWrapperOutlet("post-meta-data-poster-name",s),e.renderAfterWrapperOutlet("post-meta-data-poster-name",t)}(0,r.withSilencedDeprecations)("discourse.post-stream-widget-overrides",()=>function(e){function s(){(0,c.showUserNotes)(this.store,this.attrs.user_id,e=>{this.sendWidgetAction("refreshUserNotes",e)},{postId:this.attrs.id})}e.attachWidgetAction("post","refreshUserNotes",function(e){(0,c.updatePostUserNotesCount)(this.model,e)})
const t=e.container.lookup("service:site").mobileView,o=t?"before":"after",r=e=>{const s=e.getModel()
if(s?.user_custom_fields?.user_notes_count>0)return e.attach("user-notes-icon")}
e.decorateWidget(`poster-name:${o}`,e=>{if(!e.widget.settings.hideNotes)return r(e)}),e.decorateWidget("post-avatar:after",e=>{if(e.widget.settings.showNotes)return r(e)}),e.attachWidgetAction("post","showUserNotes",s),e.createWidget("user-notes-icon",{services:["site-settings"],tagName:"span.user-notes-icon",click:s,html(){return this.siteSettings.enable_emoji?this.attach("emoji",{name:"memo"}):(0,i.iconNode)("pen-to-square")}})}(e))})(n,e),function(e,s){const t=s.lookup("service:app-events"),o=s.lookup("service:store")
e.addPostAdminMenuButton(e=>({icon:"pen-to-square",label:"user_notes.attach",action:s=>{(0,c.showUserNotes)(o,e.user_id,e=>{(0,c.updatePostUserNotesCount)(s,e),t.trigger("post-stream:refresh",{id:s.id})},{postId:e.id})},secondaryAction:"closeAdminMenu",className:"add-user-note"}))}(n,e),function(e){e.onAppEvent("reviewablenote:created",async(e,s,r)=>{if(e.copy_note_to_user&&s.target_created_by)try{await(0,t.ajax)("/user_notes",{type:"POST",data:{user_note:{user_id:s.target_created_by.id,raw:e.content.trim()}}}),r.set("copy_note_to_user",!1)}catch(i){(0,o.popupAjaxError)(i)}})}(n)})}}}),define("discourse/plugins/discourse-user-notes/discourse/lib/user-notes",["exports","discourse/lib/get-owner","discourse/plugins/discourse-user-notes/discourse/components/modal/user-notes"],function(e,s,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.showUserNotes=async function(e,o,r,i={}){const n=(0,s.getOwnerWithFallback)(this).lookup("service:modal"),u=await e.find("user-note",{user_id:o})
await n.show(t.default,{model:{note:u,userId:o,callback:r,postId:i.postId}})},e.updatePostUserNotesCount=function(e,s){e.user_custom_fields||={},e.user_custom_fields.user_notes_count=s}}),define("discourse/plugins/discourse-user-notes/discourse/pre-initializers/user-notes-transformers",["exports","discourse/lib/plugin-api"],function(e,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={before:"freeze-valid-transformers",initialize(){(0,s.withPluginApi)(e=>{e.addValueTransformerName("user-notes-icon-placement")})}}})

//# sourceMappingURL=discourse-user-notes-c7326c27.map