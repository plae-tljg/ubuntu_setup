import{_ as r,c as d,d as n,e as s,a,b as t,r as h,o as p}from"./app-CivwB6jT.js";const k={};function o(g,i){const e=h("ReferenceViewer"),l=h("CodeViewer");return p(),d("div",null,[i[0]||(i[0]=n(`<h1 id="nvidia-gpu-settings" tabindex="-1"><a class="header-anchor" href="#nvidia-gpu-settings"><span>Nvidia GPU settings</span></a></h1><h2 id="nvidia-gpu-driver" tabindex="-1"><a class="header-anchor" href="#nvidia-gpu-driver"><span>NVIDIA GPU Driver</span></a></h2><p>(Note that this page is written 3 days after finishing the task, so some command are just by seeing my ai chat history, and some history are deleted already, don&#39;t know if work)</p><p>There is some problem with ubuntu&#39;s gpu driver installation (on my own experience), by just</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu-drivers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> autoinstall</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="previous-experience" tabindex="-1"><a class="header-anchor" href="#previous-experience"><span>Previous Experience</span></a></h3><p>When i unplug my <code>4060 8G</code> to <code>5060Ti 16G</code>, uninstalling everything related to Nvidia, and use above command, the <code>nvidia-smi</code> doesnt detect device.</p><h4 id="extra-problem-beforehand" tabindex="-1"><a class="header-anchor" href="#extra-problem-beforehand"><span>Extra Problem beforehand?</span></a></h4><p>There is extra problem beforehand (may not be the real problem obstructing installation of driver):</p><p>I want to use integrated graphics (YYDS) of CPU but not use GPU, just plainly unplug DP cord from 4060 and plug the DP cord to motherboard DP port. Maybe that cause trouble?</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># to check if integrated graphics at work (though physically we already know it is not GPU at work)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lspci</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -EA3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;VGA|3D|Display&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lspci</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">egrep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;VGA|3D&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># gets like following, from ai prompt, at least not see Nvidia there</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">00:02.0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VGA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compatible</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> controller:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Intel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Corporation</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Graphics</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 620</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (rev </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">02</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Subsystem:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Dell</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Graphics</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 620</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Kernel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> driver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> use:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> i915</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Kernel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> modules:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> i915</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Check if GPU properly attached:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> isntall</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mesa-utils</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">glxinfo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -E</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;OpenGL vendor|OpenGL renderer&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>should see (?):</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#ai generated prompt, for reference only</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OpenGL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vendor</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> string:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NVIDIA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Corporation</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OpenGL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> renderer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> string:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GeForce</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GTX</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1650/PCIe/SSE2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now AI suggested to use:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nano</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/modprobe.d/blacklist-nouveau.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>add following lines to file:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">blacklist</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nouveau</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">options</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nouveau</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> modeset=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>update the initramfs (initial ram file system) and reboot:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update-initramfs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> now</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="towards-real-problem" tabindex="-1"><a class="header-anchor" href="#towards-real-problem"><span>Towards Real Problem</span></a></h4><p>I run like:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;*nvidia*&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;*cuda*&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nvidia</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> now</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu-drivers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> autoinstall</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> now</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nvidia-smi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>nvidia-smi</code> shows</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">NVIDIA-SMI</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> has</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> failed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> because</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> it</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> couldn&#39;t communicate with the NVIDIA driver. Make sure that the latest NVIDIA driver is installed and running.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="how-to-install" tabindex="-1"><a class="header-anchor" href="#how-to-install"><span>How to install</span></a></h3><p>To install nvidia driver properly, try to install from its official site, go to <a href="https://www.nvidia.com/en-us/drivers" target="_blank" rel="noopener noreferrer">https://www.nvidia.com/en-us/drivers</a>, remember for your gpu driver version number, the <code>580</code> or <code>580.76</code> for my <code>5060Ti</code> GPU.</p><p>Run the downloaded file:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NVIDIA-Linux-x86_64-580.76.05.run</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./NVIDIA-Linux-x86_64-580.76.05.run</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # choose the MIT in option, ppl say that</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./NVIDIA-Linux-x86_64-580.76.05.run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --no-opengl-files</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # for installing driver but still use integrated graphics</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reboot</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nvidia-smi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cuda-toolkits" tabindex="-1"><a class="header-anchor" href="#cuda-toolkits"><span>CUDA Toolkits</span></a></h2><p>To use GPU for AI computation, have to install cuda toolkits.</p><p>There is a complicated site for installation guide (though I never finish reading it), <a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/" target="_blank" rel="noopener noreferrer">https://docs.nvidia.com/cuda/cuda-installation-guide-linux/</a>:</p><br>`,35)),s(e,{title:"Official CUDA Installation Guide for Linux",htmlPath:"/assets/cuda/CUDA Installation Guide for Linux — Installation Guide for Linux 13.0 documentation.html",originalUrl:"https://docs.nvidia.com/cuda/cuda-installation-guide-linux/"}),i[1]||(i[1]=a("p",null,[t("For compatibility table between driver version and CUDA toolkits version, let's see "),a("a",{href:"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html",target:"_blank",rel:"noopener noreferrer"},"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html"),t(" (can also see "),a("a",{href:"https://stackoverflow.com/questions/28932864/which-compute-capability-is-supported-by-which-cuda-versions/28933055#28933055",target:"_blank",rel:"noopener noreferrer"},"https://stackoverflow.com/questions/28932864/which-compute-capability-is-supported-by-which-cuda-versions/28933055#28933055"),t(")")],-1)),i[2]||(i[2]=a("br",null,null,-1)),s(e,{title:"Official CUDA Relase Note",htmlPath:"/assets/cuda/CUDA Toolkit 13.0 - Release Notes — Release Notes 13.0 documentation.html",originalUrl:"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html"}),i[3]||(i[3]=n(`<p>So we see that for driver version <code>&gt;=580</code>, you have to use the CUDA version <code>&gt;=13.0</code>, which at this moment only <code>13.0</code> is available.</p><h2 id="installation-guide" tabindex="-1"><a class="header-anchor" href="#installation-guide"><span>Installation Guide</span></a></h2><p>To install <code>CUDA 12.8</code>, please see following reference or guide:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cuda-ubuntu2204.pin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/apt/preferences.d/cuda-repository-pin-600</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://developer.download.nvidia.com/compute/cuda/13.0.0/local_installers/cuda-repo-ubuntu2204-13-0-local_13.0.0-580.65.06-1_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#wget https://developer.download.nvidia.com/compute/cuda/13.0.0/local_installers/cuda-repo-ubuntu2204-12-8-local_12.8.0-570.86.10-1_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dpkg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cuda-repo-ubuntu2204-12-8-local_12.8.0-570.86.10-1_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/cuda-repo-ubuntu2204-12-8-local/cuda-</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">-keyring.gpg</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/keyrings/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cuda-toolkit-12-8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> now</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Check your installation by:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nvcc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Remember add relevant PATH to <code>.bashrc</code> for later use:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cuda</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cuda</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lib64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$LD_LIBRARY_PATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><br>`,9)),s(e,{title:"CUDA Download and Installation",htmlPath:"/assets/cuda/CUDA Toolkit 13.0 Downloads _ NVIDIA Developer.html",originalUrl:"https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=22.04&target_type=deb_local"}),i[4]||(i[4]=n(`<h3 id="more-test-on-cuda-installations" tabindex="-1"><a class="header-anchor" href="#more-test-on-cuda-installations"><span>More test on CUDA Installations</span></a></h3><p>Run on one terminal:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">watch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nvidia-smi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Test by running QWEN3:</p><p>Create venv first, note that there is other compatibility table for torch, for installation see <a href="https://pytorch.org/get-started/locally/" target="_blank" rel="noopener noreferrer">https://pytorch.org/get-started/locally/</a>:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python3.10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> venv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_env</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./test_env/bin/activate</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> torch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> torchvision</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> transformers</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># remember pip install nay missing dependency as you find missing when runnign below py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Smaller test first:</p>`,7)),s(l,{title:"Simple model",filePath:"/lib/test_cuda/test_cuda_simple.py",language:"python"}),i[5]||(i[5]=a("p",null,"Larger test:",-1)),s(l,{title:"QWEN3",filePath:"/lib/test_cuda/test_cuda_qwen.py",language:"python"}),i[6]||(i[6]=a("h2",{id:"gpu-for-cuda-integrated-graphics-igpu-for-graphics",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#gpu-for-cuda-integrated-graphics-igpu-for-graphics"},[a("span",null,"GPU for CUDA, Integrated Graphics (iGPU) for Graphics")])],-1)),i[7]||(i[7]=a("p",null,'Following are references for installing for the purpose of "iGPU for screen rendering and GPU for computing". THe methods from first reference is tested and can work.',-1)),s(e,{title:"Use integrated graphics for display and NVIDIA GPU for CUDA on Ubuntu 14.04",htmlPath:"/assets/cuda/use_integrated_graphics/Use integrated graphics for display and NVIDIA GPU for CUDA on Ubuntu 14.04.html",originalUrl:"https://gist.github.com/alexlee-gk/76a409f62a53883971a18a11af93241b?permalink_comment_id=3102545"}),i[8]||(i[8]=a("br",null,null,-1)),s(e,{title:"Intel Integrated Graphics, dedicated GPU for CUDA and Ubuntu 13.10 and 14.04",htmlPath:"/assets/cuda/use_integrated_graphics/osdf's log _ Intel Integrated Graphics, dedicated GPU for CUDA and Ubuntu 13.10 and 14.04.html",originalUrl:"https://osdf.github.io/blog/intel-integrated-graphics-dedicated-gpu-for-cuda-and-ubuntu-1310.html"}),s(e,{title:"[SOLVED] Run CUDA on dedicated NVIDIA GPU while connecting monitors to Intel HD graphics, is this possible?",htmlPath:"/assets/cuda/use_integrated_graphics/[SOLVED] Run CUDA on dedicated NVIDIA GPU while connecting monitors to Intel HD graphics, is this possible_ - CUDA _ CUDA Setup and Installation - NVIDIA Developer Forums.html",originalUrl:"https://forums.developer.nvidia.com/t/solved-run-cuda-on-dedicated-nvidia-gpu-while-connecting-monitors-to-intel-hd-graphics-is-this-possible/47690"}),s(e,{title:"Ask Ubuntu - How to configure iGPU for xserver and nvidia GPU for CUDA work",htmlPath:"/assets/cuda/use_integrated_graphics/drivers - How to configure iGPU for xserver and nvidia GPU for CUDA work - Ask Ubuntu.html",originalUrl:"https://askubuntu.com/questions/1061551/how-to-configure-igpu-for-xserver-and-nvidia-gpu-for-cuda-work"}),s(e,{title:`
Using GPU for CUDA and integrated graphics for display - can’t make it work `,htmlPath:"/assets/cuda/use_integrated_graphics/Using GPU for CUDA and integrated graphics for display - can't make it work - CUDA _ CUDA Setup and Installation - NVIDIA Developer Forums.html",originalUrl:"https://forums.developer.nvidia.com/t/using-gpu-for-cuda-and-integrated-graphics-for-display-cant-make-it-work/49820"})])}const u=r(k,[["render",o]]),b=JSON.parse('{"path":"/apps/cuda.html","title":"Nvidia GPU settings","lang":"en-US","frontmatter":{},"git":{"createdTime":1755746783000,"updatedTime":1755854687000,"contributors":[{"name":"plae-tljg","username":"plae-tljg","email":"yang.1444.qft@gmail.com","commits":2,"url":"https://github.com/plae-tljg"}]},"readingTime":{"minutes":3.67,"words":1102},"filePathRelative":"apps/cuda.md"}');export{u as comp,b as data};
