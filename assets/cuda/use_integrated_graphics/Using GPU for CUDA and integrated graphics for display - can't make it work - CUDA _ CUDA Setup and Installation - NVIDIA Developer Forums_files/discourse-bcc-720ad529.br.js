define("discourse/plugins/discourse-bcc/discourse/components/bcc-checkbox",["exports","@ember/component","@ember-decorators/component","discourse/lib/decorators","discourse-i18n","@ember/template-factory"],function(e,s,c,t,o,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=dt7948.c(class extends s.default{bccAvailable(){return this.currentUser.staff&&this.creatingPrivateMessage&&((this.targetRecipients||"").split(",").filter(Boolean).length>1||this.targetGroups)}static{dt7948.n(this.prototype,"bccAvailable",[(0,t.default)("creatingPrivateMessage","targetRecipients","targetGroups")])}static{(0,s.setComponentTemplate)((0,i.createTemplateFactory)({id:"0DoSPMSc",block:'[[[1,"\\n"],[41,[30,0,["bccAvailable"]],[[[1,"      "],[10,0],[14,0,"bcc-checkbox"],[12],[1,"\\n        "],[10,"label"],[12],[1,"\\n          "],[8,[32,0],null,[["@type","@checked"],["checkbox",[30,0,["checked"]]]],null],[1,"\\n          "],[1,[28,[32,1],["discourse_bcc.use_bcc"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-bcc/discourse/components/bcc-checkbox.js",scope:()=>[s.Input,o.i18n],isStrictMode:!0}),this)}},[(0,c.tagName)("")])
e.default=r}),define("discourse/plugins/discourse-bcc/discourse/connectors/composer-fields/bcc-checkbox",["exports","@ember/component","@ember-decorators/component","discourse/plugins/discourse-bcc/discourse/components/bcc-checkbox","@ember/template-factory"],function(e,s,c,t,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=dt7948.c(class extends s.default{static{(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"CaytIDxn",block:'[[[1,"\\n    "],[8,[32,0],null,[["@creatingPrivateMessage","@targetRecipients","@checked","@targetGroups"],[[30,0,["model","creatingPrivateMessage"]],[30,0,["model","targetRecipients"]],[30,0,["model","use_bcc"]],[30,0,["model","hasTargetGroups"]]]],null],[1,"\\n  "]],[],false,[]]',moduleName:"/var/www/discourse/app/assets/javascripts/discourse/discourse/plugins/discourse-bcc/discourse/connectors/composer-fields/bcc-checkbox.js",scope:()=>[t.default],isStrictMode:!0}),this)}},[(0,c.classNames)("composer-fields-outlet","bcc-checkbox"),(0,c.tagName)("div")])
e.default=i}),define("discourse/plugins/discourse-bcc/discourse/initializers/setup-bcc",["exports","discourse/adapters/rest","discourse/lib/ajax","discourse/lib/plugin-api"],function(e,s,c,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"setup-bcc",after:"inject-objects",initialize(e){let o=e.factoryFor("model:composer")
o&&(o.class.serializeOnCreate("use_bcc"),o.class.serializeToDraft("use_bcc")),(0,t.withPluginApi)("0.8.10",e=>{e.modifyClass("adapter:post",e=>class extends e{createRecord(e,t,o){return"post"===t&&o.use_bcc?(0,c.ajax)("/posts/bcc",{method:"POST",data:o}).then(e=>new s.Result(e.post,e)):(delete o.use_bcc,super.createRecord(e,t,o))}})})}}})

//# sourceMappingURL=discourse-bcc-c5442a6d.map